<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 纯css实现表单验证 · FedFun官方网站</title><meta name="description" content="ladies and 乡亲们，表单验证你在做吗？客户端or服务器端，javascript or jquery，动手写 or 使用插件，今天我们来探索下使用纯css实现表单验证，借以学习css selectors level 4中的表单相关的伪类选择器。
##案例欣赏代码我同样放到了codepen，大家可以在线研究，或下载收藏。
##知识解析关键在于使用css selectors levle4里的一些伪类实现表单验证，这些伪类有：

:required和:optional
:in-range和out-of-range
:valid和:invalid
:read-on"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h2 class="post-title"><a href="/2015/02/05/form-validation-with-pure-css/" class="post-title-link">纯css实现表单验证</a></h2><div class="post-meta"><div class="post-time">2015年2月5日</div></div><div class="post-content"><p>ladies and 乡亲们，表单验证你在做吗？客户端or服务器端，javascript or jquery，动手写 or 使用插件，今天我们来探索下使用纯css实现表单验证，借以学习css selectors level 4中的表单相关的伪类选择器。</p>
<p>##案例欣赏<br><img src="http://img.blog.csdn.net/20150205061619015" alt="这里写图片描述"><br>代码我同样放到了codepen，大家可以<a href="http://codepen.io/whqet/pen/MYEdxb?editors=110" target="_blank" rel="external">在线研究</a>，或<a href="http://codepen.io/whqet/share/zip/MYEdxb/" target="_blank" rel="external">下载收藏</a>。</p>
<p>##知识解析<br>关键在于使用css selectors levle4里的一些伪类实现表单验证，这些伪类有：</p>
<ul>
<li>:required和:optional</li>
<li>:in-range和out-of-range</li>
<li>:valid和:invalid</li>
<li>:read-only和:read-write</li>
</ul>
<p>上面的案例就是使用了:in-range和:out-of-range，接下去我们来一一解读下。</p>
<p>###:required和:optional<br>:required可以选中具有required属性的表单元素，可以是input、select和textarea，例如下面这些元素都会被选中。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"name"</span> <span class="attribute">required</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"checkbox"</span> <span class="attribute">required</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"email"</span> <span class="attribute">required</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- and other input types as well.. --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">textarea</span> <span class="attribute">name</span>=<span class="value">"name"</span> <span class="attribute">id</span>=<span class="value">"message"</span> <span class="attribute">cols</span>=<span class="value">"30"</span> <span class="attribute">rows</span>=<span class="value">"10"</span> <span class="attribute">required</span>&gt;</span><span class="tag">&lt;/<span class="title">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">select</span> <span class="attribute">name</span>=<span class="value">"nm"</span> <span class="attribute">id</span>=<span class="value">"sel"</span> <span class="attribute">required</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- options --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">select</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>:optional则选中不具有required属性的表单元素，利用这两个伪类我们可以实现下面这个有意思的效果。代码同样放在了codepen，<a href="http://codepen.io/whqet/pen/wBrLWa?editors=110" target="_blank" rel="external">在线研究</a>or<a href="http://codepen.io/whqet/share/zip/wBrLWa/" target="_blank" rel="external">下载收藏</a>，悉听尊便。<br><img src="http://img.blog.csdn.net/20150205064729505" alt="这里写图片描述"><br>本代码主要利用:required和:optional两个伪类对必选和选填的两种表单实施不同的样式，不同的提示文字。核心代码如下所示。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*可选表单样式*/</span></span><br><span class="line"><span class="tag">input</span><span class="pseudo">:optional</span>,</span><br><span class="line"><span class="tag">select</span><span class="pseudo">:optional</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">border-right</span>:<span class="value"> <span class="number">3px</span> solid <span class="hexcolor">#888</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#f8f8f8</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#888</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="comment">/*必选表单样式*/</span></span><br><span class="line"><span class="tag">input</span><span class="pseudo">:required</span>,</span><br><span class="line"><span class="tag">textarea</span><span class="pseudo">:required</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">border-right</span>:<span class="value"> <span class="number">3px</span> solid <span class="hexcolor">#aa0088</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="comment">/*可选表单提示文字*/</span></span><br><span class="line"><span class="tag">input</span><span class="pseudo">:optional+label</span><span class="pseudo">::after</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">content</span>:<span class="value"><span class="string">"(可选)"</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="comment">/*必选表单提示文字*/</span></span><br><span class="line"><span class="tag">input</span><span class="pseudo">:required+label</span><span class="pseudo">::after</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">content</span>:<span class="value"><span class="string">"(必填)"</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="comment">/*可选表单激活效果*/</span></span><br><span class="line"><span class="tag">input</span><span class="pseudo">:optional</span><span class="pseudo">:focus</span>,</span><br><span class="line"><span class="tag">select</span><span class="pseudo">:optional</span><span class="pseudo">:focus</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">1px</span> <span class="hexcolor">#aaa</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="comment">/*必选表单激活效果*/</span></span><br><span class="line"><span class="tag">input</span><span class="pseudo">:required</span><span class="pseudo">:focus</span>,</span><br><span class="line"><span class="tag">select</span><span class="pseudo">:required</span><span class="pseudo">:focus</span>,</span><br><span class="line"><span class="tag">textarea</span><span class="pseudo">:required</span><span class="pseudo">:focus</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">outline</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">1px</span> <span class="hexcolor">#aa0088</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<h3 id=":in-range和out-of-range">:in-range和out-of-range</h3><p>这两个伪类分别选中表单属性值在范围内、范围外两个状态，这两个伪类可以用在接受数字范围的元素上，例如type为number的表单或者sliders。案例效果如上面“案例欣赏”版块所示，我们这里仅仅展示核心代码，借以帮助大家理解两个伪类的使用。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">input</span><span class="pseudo">:out-of-range</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">1px</span> solid tomato</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="tag">input</span><span class="pseudo">:in-range</span>~ <span class="tag">label</span><span class="pseudo">::after</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">"输入一个正确的从1到10的数字"</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="tag">input</span><span class="pseudo">:out-of-range</span> ~ <span class="tag">label</span><span class="pseudo">::after</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">"枣糕，你傻了！"</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>###:valid和:invalid<br>这两个伪类针对具有type的input表单而立，比如有一个type=email的表单，当它的值不是有效的邮箱格式时触发:invalid伪类，值为有效的邮箱格式时触发:valid伪类。<br><img src="http://img.blog.csdn.net/20150205090302455" alt="这里写图片描述"><br>同样，放在了codepen，请<a href="http://codepen.io/whqet/pen/pvWXBa?editors=110" target="_blank" rel="external">在线研究</a>或<a href="http://codepen.io/whqet/share/zip/pvWXBa/" target="_blank" rel="external">下载收藏</a>，然后我们来看看核心代码，如下所示。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">input</span><span class="pseudo">:invalid</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">1px</span> solid tomato</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="tag">input</span><span class="pseudo">:valid</span>~ <span class="tag">label</span><span class="pseudo">::after</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">"耶，一个邮箱！"</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="tag">input</span><span class="pseudo">:invalid</span> ~ <span class="tag">label</span><span class="pseudo">::after</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">"枣糕，邮箱邮箱，是邮箱吗？"</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<h3 id=":read-only和:read-write">:read-only和:read-write</h3><p>下面这些元素可以激活:read-only伪类。</p>
<ul>
<li>具有disabled属性的表单</li>
<li>具有read-only或disbaled属性的text-area</li>
<li>其他没有指定contenteditable属性的任何元素</li>
</ul>
<p>例如下面代码代码所示的元素，都可以激活:read-only伪类选择器。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">disabled</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"number"</span> <span class="attribute">disabled</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"number"</span> <span class="attribute">readonly</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">textarea</span> <span class="attribute">name</span>=<span class="value">"nm"</span> <span class="attribute">id</span>=<span class="value">"id"</span> <span class="attribute">cols</span>=<span class="value">"30"</span> <span class="attribute">rows</span>=<span class="value">"10"</span> <span class="attribute">readonly</span>&gt;</span> <span class="tag">&lt;/<span class="title">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"random"</span>&gt;</span> <span class="tag">&lt;/<span class="title">div</span>&gt;</span> <span class="comment">&lt;!-- regular element that is not editable with contenteditable --&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>:read-write元素恰恰与:read-only元素相反。<br>这个比较简单，就不再做案例。谢谢。</p>
<p>##浏览器兼容情况<br>上述的几个伪类选择器在标准浏览器(chrome、safari、opera、firefox)里支持良好，IE支持不好。</p>
<p>##深入阅读</p>
<ul>
<li><a href="http://tympanus.net/codrops/css_reference/" target="_blank" rel="external">Codrops CSS Referrence</a> </li>
<li><a href="http://dev.w3.org/csswg/selectors-4/" target="_blank" rel="external">CSS Selectors Level 4</a></li>
<li><a href="http://quicksand.joijs.com/home/" target="_blank" rel="external">a lightning fast, cross-browser CSS 3 &amp; 4 selector engine for JavaScript</a></li>
<li><a href="http://css4-selectors.com/browser-selector-test/" target="_blank" rel="external">Browser CSS-Selector-Test</a><br>##致谢<br><em>前端开发whqet，关注前端开发，分享相关资源。csdn专家博客，王海庆希望能对您有所帮助。</em><br><em>本文原文链接，<a href="http://blog.csdn.net/whqet/article/details/43449045" target="_blank" rel="external">http://blog.csdn.net/whqet/article/details/43449045</a></em></li>
</ul>
</div></article></div></section><footer><div class="paginator"><a href="/2015/02/07/color-pagraph-with-css/" class="prev">上一篇</a><a href="/2015/02/05/form-va/" class="next">下一篇</a></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?a36e15d9e2adec9a21fcdd9f686b1ed2";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>