<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="FedFun官方网站" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="whqet’s blog | html5 | css3 | javascript | jquery | node">
<meta property="og:type" content="website">
<meta property="og:title" content="FedFun官方网站">
<meta property="og:url" content="/index.html">
<meta property="og:site_name" content="FedFun官方网站">
<meta property="og:description" content="whqet’s blog | html5 | css3 | javascript | jquery | node">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FedFun官方网站">
<meta name="twitter:description" content="whqet’s blog | html5 | css3 | javascript | jquery | node">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> FedFun官方网站 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">FedFun官方网站</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">爱前端，乐分享！</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            標籤
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/16/quick-view-of-service-worker/" itemprop="url">
                  Service Workers“早”知道？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-16T15:50:45+08:00" content="2015年11月16日">
              2015年11月16日
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分類於
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>最近关于Service Workers的研究与讨论日益增多，今天就给我大家来梳理一些资源，让大家一睹为快！！</p>
<h2 id="1-啥是Service_workers？">1.啥是Service workers？</h2><p>我们知道原生App拥有的富离线体验，如定时静默更新，消息通知推送等功能，曾经是是web应用“羡慕嫉妒恨”的功能。有了Service Worker，Web APP也可以拥有这些功能。</p>
<p>简单来说，Service Workers赋予Web APP以非常好的离线体验，赋予开发者离线数据的管理能力。</p>
<p>欲知详情请大家移步下列资源获取更多信息：</p>
<ol>
<li><a href="http://www.html5rocks.com/" target="_blank" rel="external">html5rocks</a>的<a href="http://www.html5rocks.com/en/tutorials/service-worker/introduction/" target="_blank" rel="external">service workers introduction</a></li>
<li><a href="http://www.w3ctech.com/" target="_blank" rel="external">w3ctech</a>对html5rocks introduction的翻译 <a href="http://www.w3ctech.com/topic/866" target="_blank" rel="external">Service Worker 入门</a></li>
<li>W3C吴小倩的报告<a href="http://www.w3.org/2014/Talks/0825-xiaoqian-offline/#/" target="_blank" rel="external">游戏规则改变者 Service Worker</a></li>
<li><a href="http://www.infoq.com/cn/news/2014/12/service-workers-make-web-native" target="_blank" rel="external">Service Workers让Web应用感觉更像是原生应用</a></li>
</ol>
<h2 id="2-Service_Workers准备好了吗？">2.Service Workers准备好了吗？</h2><p>###2.1 兼容性<br>对于任何一个新的功能，兼容性都是不容忽视的，对吧，各位前端er。<br>来看下<a href="http://caniuse.com/#feat=serviceworkers" target="_blank" rel="external">Caniuse</a>的数据（截止2015/11/16）。<br><img src="http://img.blog.csdn.net/20151116085657569" alt="图片描述"></p>
<p>###2.2 特性支持与polyfill<br>下面是来自于<a href="https://jakearchibald.github.io/isserviceworkerready/index.html" target="_blank" rel="external">isServiceWorkerReady?</a>的数据。<br><img src="http://img.blog.csdn.net/20151116091310033" alt="图片描述"></p>
<h2 id="3-_如何使用Service_Workers？">3. 如何使用Service Workers？</h2><p>来具体了解Service Wokers的使用方式，API文档、使用案例、样例APP。</p>
<ol>
<li><a href="https://slightlyoff.github.io/ServiceWorker/spec/service_worker/" target="_blank" rel="external">官方文档</a></li>
<li>MDN的<a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API" target="_blank" rel="external">Service Worker API</a></li>
<li>MDN的<a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers" target="_blank" rel="external">Using Service Workers</a></li>
<li><a href="https://ponyfoo.com/articles/serviceworker-revolution" target="_blank" rel="external">ServiceWorker: Revolution of the Web Platform</a></li>
<li><a href="https://adactio.com/journal/9775" target="_blank" rel="external">My first Service Worker</a></li>
<li>CSS-tricks的<a href="https://css-tricks.com/serviceworker-for-offline/" target="_blank" rel="external">Making a Simple Site Work Offline with ServiceWorker</a></li>
<li>ponyfoo.com的<a href="https://ponyfoo.com/articles/progressive-app-serviceworker" target="_blank" rel="external">Making a Progressive App with ServiceWorker</a></li>
<li>一些案例<a href="https://github.com/w3c-webmob/ServiceWorkersDemos" target="_blank" rel="external">ServiceWorkersDemos</a></li>
<li><a href="https://brandonrozek.com/2015/11/service-workers/" target="_blank" rel="external">An Offline Experience with Service Workers</a></li>
</ol>
<h2 id="4-声明">4.声明</h2><p>爱前端，乐分享。FedFun希望与您共同进步。<br>欢迎任何形式的转载，烦请注明装载，保留本段文字。<br>独立博客<a href="http://whqet.github.io" target="_blank" rel="external">http://whqet.github.io</a><br>新浪微博<a href="http://weibo.com/FedFun" target="_blank" rel="external">http://weibo.com/FedFun</a><br>极客头条<a href="http://geek.csdn.net/user/publishlist/whqet" target="_blank" rel="external">http://geek.csdn.net/user/publishlist/whqet</a></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/13/segment/" itemprop="url">
                  实现SVG路径描边绘制与动画的轻量库
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-13T12:50:45+08:00" content="2015年11月13日">
              2015年11月13日
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分類於
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>今天来一起了解一个实现SVG路径描边绘制与动画的轻量级类库<a href="https://github.com/lmgonzalves/segment" target="_blank" rel="external">segment</a>，我们从轻松上手、使用详解、资源和案例、源码解读等几个方面进行介绍。<br><img src="http://img.blog.csdn.net/20151113082414010" alt="图片描述"></p>
<h2 id="1-_轻松上手">1. 轻松上手</h2><p>html方面添加segment，定义path。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"/dist/segment.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">path</span> <span class="attribute">id</span>=<span class="value">"my-path"</span> <span class="attribute">...</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>JS方面利用path实例化一个segment，然后就可以使用segment的draw方法了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myPath = <span class="built_in">document</span>.getElementById(<span class="string">"my-path"</span>),</span><br><span class="line">    segment = <span class="keyword">new</span> Segment(myPath);</span><br><span class="line"></span><br><span class="line">segment.draw(<span class="string">"25%"</span>, <span class="string">"75% - 10"</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<h2 id="2-_使用详解">2. 使用详解</h2><h3 id="2-1_构造函数">2.1 构造函数</h3><p>Segment构造函数可以接收三个参数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> segElement=<span class="keyword">new</span> Segment(path,begin,end);</span><br></pre></td></tr></table></figure>
<ul>
<li>path: 需要绘制的路径（DOM元素）。</li>
<li>begin: 路径开始绘制的位置，可选参数，默认值为0。</li>
<li>end: 路径结束绘制的位置，可选参数，默认值为100%。</li>
</ul>
<h3 id="2-2_draw方法">2.2 draw方法</h3><p>draw方法是segment的核心方法，可以接受四个参数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">segElement.draw(begin, end, duration, options);</span><br></pre></td></tr></table></figure>
<ul>
<li>begin: 路径开始绘制位置，默认值为0。参数类型为string。<ul>
<li>数字</li>
<li>百分比</li>
<li>百分比+数字</li>
<li>百分比-数字</li>
</ul>
</li>
<li>end: 路径结束绘制的位置，默认值为100%，参数类型为string。输入写法同begin。</li>
<li>duration: 绘制持续时间，默认值为0。</li>
<li>options: 绘制参数，默认值为null，参数类型为object类型。具体参数如下。<ul>
<li>delay: 延迟时间，默认值为0，单位为s。</li>
<li>easing: 绘制动画的缓动类型，默认值为linear。</li>
<li>callback: 回调函数，默认值为null。</li>
</ul>
</li>
</ul>
<p>draw方法具体案例如下。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cubicIn</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> t * t * t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">done</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">"Done!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">segment.draw(<span class="string">"25%"</span>, <span class="string">"75% - 10"</span>, <span class="number">1</span>, &#123;delay: <span class="number">0.5</span>, easing: cubicIn, callback: done&#125;);</span><br></pre></td></tr></table></figure></p>
<h2 id="3-_资源和案例">3. 资源和案例</h2><ol>
<li><a href="http://tympanus.net/codrops/" target="_blank" rel="external">Codrop</a>的<a href="http://tympanus.net/codrops/2015/11/12/animating-svg-menu-icon-segment/" target="_blank" rel="external">Animating an SVG Menu Icon with Segment</a></li>
<li><a href="http://lmgonzalves.github.io/segment/" target="_blank" rel="external">官方案例</a></li>
<li>官方教程<a href="http://lmgonzalves.github.io/2015/10/26/animating-svg-path-segments/" target="_blank" rel="external">Animating SVG path segments</a></li>
</ol>
<h2 id="4-_源码解读">4. 源码解读</h2><p>通过源码阅读，学习类库的开发，svg动画的具体实现。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * segment - A little JavaScript class (without dependencies) to draw and animate SVG path strokes</span><br><span class="line"> * @version v0.0.4</span><br><span class="line"> * @link https://github.com/lmgonzalves/segment</span><br><span class="line"> * @license MIT</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Segment</span>(<span class="params">path, begin, end</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.path = path;</span><br><span class="line">    <span class="keyword">this</span>.length = path.getTotalLength();</span><br><span class="line">    <span class="keyword">this</span>.path.style.strokeDashoffset = <span class="keyword">this</span>.length * <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">this</span>.begin = <span class="keyword">typeof</span> begin !== <span class="string">'undefined'</span> ? <span class="keyword">this</span>.valueOf(begin) : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.end = <span class="keyword">typeof</span> end !== <span class="string">'undefined'</span> ? <span class="keyword">this</span>.valueOf(end) : <span class="keyword">this</span>.length;</span><br><span class="line">    <span class="keyword">this</span>.timer = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">this</span>.draw(<span class="keyword">this</span>.begin, <span class="keyword">this</span>.end);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Segment.prototype = &#123;</span><br><span class="line">    draw : <span class="function"><span class="keyword">function</span>(<span class="params">begin, end, duration, options</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(duration)&#123;</span><br><span class="line">            <span class="keyword">var</span> delay = options &amp;&amp; options.hasOwnProperty(<span class="string">'delay'</span>) ? <span class="built_in">parseFloat</span>(options.delay) * <span class="number">1000</span> : <span class="number">0</span>,</span><br><span class="line">                easing = options &amp;&amp; options.hasOwnProperty(<span class="string">'easing'</span>) ? options.easing : <span class="literal">null</span>,</span><br><span class="line">                callback = options &amp;&amp; options.hasOwnProperty(<span class="string">'callback'</span>) ? options.callback : <span class="literal">null</span>,</span><br><span class="line">                that = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.stop();</span><br><span class="line">            <span class="keyword">if</span>(delay) &#123;</span><br><span class="line">                <span class="keyword">delete</span> options.delay;</span><br><span class="line">                <span class="keyword">this</span>.timer = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                    that.draw(begin, end, duration, options);</span><br><span class="line">                &#125;, delay);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.timer;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="built_in">Date</span>(),</span><br><span class="line">                rate = <span class="number">1000</span>/<span class="number">60</span>,</span><br><span class="line">                initBegin = <span class="keyword">this</span>.begin,</span><br><span class="line">                initEnd = <span class="keyword">this</span>.end,</span><br><span class="line">                finalBegin = <span class="keyword">this</span>.valueOf(begin),</span><br><span class="line">                finalEnd = <span class="keyword">this</span>.valueOf(end);</span><br><span class="line"></span><br><span class="line">            (<span class="function"><span class="keyword">function</span> <span class="title">calc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</span><br><span class="line">                    elapsed = (now-startTime)/<span class="number">1000</span>,</span><br><span class="line">                    time = (elapsed/<span class="built_in">parseFloat</span>(duration)),</span><br><span class="line">                    t = time;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">typeof</span> easing === <span class="string">'function'</span>) &#123;</span><br><span class="line">                    t = easing(t);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(time &gt; <span class="number">1</span>)&#123;</span><br><span class="line">                    that.stop();</span><br><span class="line">                    t = <span class="number">1</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    that.timer = setTimeout(calc, rate);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                that.begin = initBegin + (finalBegin - initBegin) * t;</span><br><span class="line">                that.end = initEnd + (finalEnd - initEnd) * t;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(that.begin &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    that.begin = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(that.end &gt; that.length) &#123;</span><br><span class="line">                    that.end = that.length;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(that.begin &lt; that.end) &#123;</span><br><span class="line">                    that.draw(that.begin, that.end);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    that.draw(that.begin + (that.end - that.begin), that.end - (that.end - that.begin));</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(time &gt; <span class="number">1</span> &amp;&amp; <span class="keyword">typeof</span> callback === <span class="string">'function'</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> callback.call(that.context);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.path.style.strokeDasharray = <span class="keyword">this</span>.strokeDasharray(begin, end);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    strokeDasharray : <span class="function"><span class="keyword">function</span>(<span class="params">begin, end</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.begin = <span class="keyword">this</span>.valueOf(begin);</span><br><span class="line">        <span class="keyword">this</span>.end = <span class="keyword">this</span>.valueOf(end);</span><br><span class="line">        <span class="keyword">return</span> [<span class="keyword">this</span>.length, <span class="keyword">this</span>.length + <span class="keyword">this</span>.begin, <span class="keyword">this</span>.end - <span class="keyword">this</span>.begin].join(<span class="string">' '</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    valueOf: <span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> val = <span class="built_in">parseFloat</span>(input);</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> input === <span class="string">'string'</span> || input <span class="keyword">instanceof</span> <span class="built_in">String</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(~input.indexOf(<span class="string">'%'</span>))&#123;</span><br><span class="line">                <span class="keyword">var</span> arr;</span><br><span class="line">                <span class="keyword">if</span>(~input.indexOf(<span class="string">'+'</span>))&#123;</span><br><span class="line">                    arr = input.split(<span class="string">'+'</span>);</span><br><span class="line">                    val = <span class="keyword">this</span>.percent(arr[<span class="number">0</span>]) + <span class="built_in">parseFloat</span>(arr[<span class="number">1</span>]);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(~input.indexOf(<span class="string">'-'</span>))&#123;</span><br><span class="line">                    arr = input.split(<span class="string">'-'</span>);</span><br><span class="line">                    val = <span class="keyword">this</span>.percent(arr[<span class="number">0</span>]) - <span class="built_in">parseFloat</span>(arr[<span class="number">1</span>]);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    val = <span class="keyword">this</span>.percent(input);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> val;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    stop : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        clearTimeout(<span class="keyword">this</span>.timer);</span><br><span class="line">        <span class="keyword">this</span>.timer = <span class="literal">null</span>;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    percent : <span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">parseFloat</span>(value) / <span class="number">100</span> * <span class="keyword">this</span>.length;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="5-_声明">5. 声明</h2><p>本文首发于极客头条。爱前端，乐分享。FedFun希望与您共同进步。<br>欢迎任何形式的转载，烦请注明装载，保留本段文字。<br>独立博客<a href="http://whqet.github.io" target="_blank" rel="external">http://whqet.github.io</a><br>新浪微博<a href="http://weibo.com/FedFun" target="_blank" rel="external">http://weibo.com/FedFun</a><br>极客头条<a href="http://geek.csdn.net/user/publishlist/whqet" target="_blank" rel="external">http://geek.csdn.net/user/publishlist/whqet</a></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/09/resize/" itemprop="url">
                  resize属性研究
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-09T08:25:45+08:00" content="2015年11月09日">
              2015年11月09日
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分類於
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/css3/" itemprop="url" rel="index">
                    <span itemprop="name">css3</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="1-_引言"><strong>1. 引言</strong></h1><p>resize属性是<a href="http://www.w3.org/TR/css3-ui/" target="_blank" rel="external">CSS3 UI</a>中的一个属性，允许用户调整元素的尺寸。今天通过一个图像对比案例来简要学习下。<br>您可以到Codepen–<strong><a href="http://codepen.io/whqet/full/pjxyaX/" target="_blank" rel="external">预览案例</a></strong>–，–<strong><a href="http://codepen.io/whqet/pen/pjxyaX/" target="_blank" rel="external">玩弄代码</a></strong>–。<br>建议阅读时间6分钟。</p>
<h1 id="2-_详览"><strong>2. 详览</strong></h1><p>resize是CSS3 UI的一部分，目前CSS3 UI处于CR（Candidate Recommendation，候选标准）阶段，<code>box-sizing</code>属性，<code>outline</code>属性，<code>text-overflow</code>属性和<code>cursor</code>属性都属于该CSS3 UI的定义范围。</p>
<p>##2.1 兼容性<br>来自<a href="http://caniuse.com/#feat=css-resize" target="_blank" rel="external">caniuse</a>的兼容性表格如下，可以看出Firefox、Chrome、Safari、Opera等现代浏览器支持情况良好，遗憾的是IE和Edge不支持该属性。<br><img src="http://img.blog.csdn.net/20151109114858827" alt="resize属性兼容表"></p>
<p>##2.2 语法<br>resize属性主要用来控制元素是否以及如何支持用户调整尺寸。</p>
<table>
<thead>
<tr>
<th style="text-align:left">属性名</th>
<th style="text-align:left">属性值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">属性名Name</td>
<td style="text-align:left">resize，允许用户控制元素大小</td>
</tr>
<tr>
<td style="text-align:left">属性值Value</td>
<td style="text-align:left">none 或 both 或 horizontal 或 vertical</td>
</tr>
<tr>
<td style="text-align:left">默认值Initial</td>
<td style="text-align:left">none</td>
</tr>
<tr>
<td style="text-align:left">适用范围Applies to</td>
<td style="text-align:left">设置过<code>overflow</code>属性且值不是<code>visible</code>的元素</td>
</tr>
<tr>
<td style="text-align:left">继承性Inherited</td>
<td style="text-align:left">no</td>
</tr>
<tr>
<td style="text-align:left">百分比Percentages</td>
<td style="text-align:left">N/A</td>
</tr>
<tr>
<td style="text-align:left">媒体类型Media</td>
<td style="text-align:left">visual</td>
</tr>
<tr>
<td style="text-align:left">计算值Computed value</td>
<td style="text-align:left">指定值specified value</td>
</tr>
<tr>
<td style="text-align:left">动画性Animatable</td>
<td style="text-align:left">不支持</td>
</tr>
</tbody>
</table>
<p>在可以接受的值中，不同的属性值有不同的含义<br>| 属性值| 属性值含义|<br>|:——–|:——–|<br>|none|不允许用户控制元素大小|<br>|both|允许用户控制元素的宽和高 |<br>|horizontal| 允许用户控制元素的宽 |<br>|vertical| 允许用户控制元素的高 |</p>
<p>注意：目前resize属性不适用于生成元素(伪对象生成元素)。</p>
<p>##2.3 表现<br>在不同的浏览下，设置过resize属性的元素的表现稍有不同。在firefox下表现如左图所示，在chrome、opera、safari下表现如右图所示。<br>firefox <img src="http://img.blog.csdn.net/20151109125357233" alt="这里写图片描述"> 其他浏览器<img src="http://img.blog.csdn.net/20151109125412697" alt="这里写图片描述"></p>
<h1 id="3-_案例"><strong>3. 案例</strong></h1><p>接下来通过一个图片对比的案例来演示resize属性的使用，案例效果如下。<br><img src="http://img.blog.csdn.net/20151109125723706" alt="这里写图片描述"></p>
<p>在本案例中，我们用figure和div#divisor分别设置背景图像，显示两幅图像，然后通过调整div#divisor元素的宽度实现图像对比效果。</p>
<p>html代码如下，</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"comparison"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">figure</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"divisor"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">figure</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>css代码</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">div</span><span class="id">#comparison</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">60vw</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">60vw</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">max-width</span>:<span class="value"> <span class="number">600px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">max-height</span>:<span class="value"> <span class="number">600px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">div</span><span class="id">#comparison</span> <span class="tag">figure</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">background-image</span>:<span class="value"> <span class="function">url</span>(https://s3-us-west-<span class="number">2</span>.amazonaws.com/s.cdpn.io/<span class="number">4273</span>/photoshop-face-before.jpg)</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background-size</span>:<span class="value"> cover</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">div</span><span class="id">#comparison</span> <span class="tag">figure</span> <span class="id">#divisor</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">background-image</span>:<span class="value"> <span class="function">url</span>(https://s3-us-west-<span class="number">2</span>.amazonaws.com/s.cdpn.io/<span class="number">4273</span>/photoshop-face-after.jpg)</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background-size</span>:<span class="value"> cover</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">min-width</span>:<span class="value"> <span class="number">10%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">max-width</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> -<span class="number">2px</span> <span class="function">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">bottom</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">  <span class="comment">/*设置resize属性，使之可以横向改变大小*/</span></span><br><span class="line">  <span class="rule"><span class="attribute">resize</span>:<span class="value"> horizontal</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="comment">/*覆盖resize元素的默认样式*/</span></span><br><span class="line"><span class="tag">div</span><span class="id">#comparison</span> <span class="tag">figure</span> <span class="id">#divisor</span><span class="pseudo">::after</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">""</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">20px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">30px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">right</span>:<span class="value"> <span class="number">1px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">bottom</span>:<span class="value"> <span class="number">1px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="function">linear-gradient</span>(-<span class="number">60deg</span>, white <span class="number">50%</span>, transparent <span class="number">0</span>)</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">cursor</span>:<span class="value"> ew-resize</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"> <span class="function">drop-shadow</span>(<span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> black)</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">filter</span>:<span class="value"> <span class="function">drop-shadow</span>(<span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> black)</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="4-_声明"><strong>4. 声明</strong></h1><p>爱前端乐分享的FedFun，csdn专家博客，王海庆希望能对您有所帮助，限于作者水平有限，出错难免，欢迎拍砖！<br>欢迎任何形式的转载，烦请注明装载，保留本段文字。<br>本文原文链接<a href="http://blog.csdn.net/whqet/article/details/49736187" target="_blank" rel="external">http://blog.csdn.net/whqet/article/details/49736187</a><br>独立博客<a href="http://whqet.github.io" target="_blank" rel="external">http://whqet.github.io</a><br>新浪微博<a href="http://weibo.com/FedFun" target="_blank" rel="external">http://weibo.com/FedFun</a><br>极客头条<a href="http://geek.csdn.net/user/publishlist/whqet" target="_blank" rel="external">http://geek.csdn.net/user/publishlist/whqet</a></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/10/28/how-positioning-css-properties-interact/" itemprop="url">
                  CSS定位属性之间的相互作用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-10-28T08:25:45+08:00" content="2015年10月28日">
              2015年10月28日
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分類於
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/css3/" itemprop="url" rel="index">
                    <span itemprop="name">css3</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="1-_引言"><strong>1. 引言</strong></h1><p>原文：<a href="http://bitsofco.de/" target="_blank" rel="external">bitsofcode</a>的<a href="http://bitsofco.de/2015/how-positioning-css-properties-interact/" target="_blank" rel="external">HOW POSITIONING CSS PROPERTIES INTERACT</a><br>译者：爱前端，乐分享的FedFun，前端痴王海庆的博客。<br>译言：来看下CSS标布局情况下，定位相关属性之间的相互作用，意译为主，不当之处敬请指正。<br>阅读建议5分钟。</p>
<h1 id="2-_正文"><strong>2. 正文</strong></h1><p>在定位元素时，我们经常用到四个属性<code>display</code>、<code>position</code>、<code>float</code>和偏移属性<code>top right bottom left</code>等。但不是在每个元素上都可以同时应用这四个属性，一些特殊的值组合会覆盖其他属性的应用，这些组合有：</p>
<ul>
<li><code>display: none</code></li>
<li><code>position: absolute</code>或<code>position: fixed</code></li>
<li><code>float: left</code>或<code>float: right</code></li>
<li><code>position: static</code></li>
</ul>
<p>接下来，我们就一起来研究这些组合之间如何相互作用。</p>
<h2 id="2-1_DISPLAY:_NONE">2.1 DISPLAY: NONE</h2><p>当<code>display</code>设置成none时，其它定位属性统统失效，因为没有产生盒模型（<a href="http://bitsofco.de/2015/controlling-the-box-model/" target="_blank" rel="external">the box model</a>）。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.foo</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">display</span>:<span class="value"> none</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* None of these apply，以下这些将不会应用 */</span></span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">float</span>:<span class="value"> left</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">10px</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="2-2_POSITION:_ABSOLUTE_(OR_FIXED)">2.2 POSITION: ABSOLUTE (OR FIXED)</h2><p>如果将<code>position</code>属性设置为<code>absolute</code>或<code>fixed</code>时，将会产生以下作用：</p>
<h3 id="Float">Float</h3><p>对<code>float</code>属性设置的任何值都会被覆盖，<code>float</code>属性的计算值(the computed value)自动设置为<code>none</code>。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.foo</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">float</span>:<span class="value"> left</span></span>; <span class="comment">/* 被忽略, 计算值为none */</span></span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="DISPLAY">DISPLAY</h3><p>随着<code>display</code>属性值的不同，计算值可能会被覆盖，如下表所示。<br>| 指定值 | 计算值 |<br>| ————- |:————-:|<br>| inline, inline-block, table-row-group, table-column, table-column-group, table-header-group, table-footer-group, table-row, table-cell, table-caption | block |<br>| inline-table | table |<br>| 其他值 | 跟指定值相同 |</p>
<p>下面的代码中，<code>.foo</code>和<code>.bar</code>表现上没有区别。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.foo</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> fixed</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>; <span class="comment">/* ignored, computed value is block */</span></span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.bar</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> fixed</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">display</span>:<span class="value"> block</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="2-3_FLOAT:_LEFT_(OR_RIGHT)">2.3 FLOAT: LEFT (OR RIGHT)</h2><p>除了上面两种情况，当我们把<code>float</code>属性设置为<code>left</code>或<code>right</code>时，相互作用如下：</p>
<h3 id="DISPLAY-1">DISPLAY</h3><p>跟上面绝对定位、固定定位类似，元素浮动后<code>display</code>属性变换如上表所示。<br>下面代码中，<code>.foo</code>和<code>.bar</code>的表现效果也一样。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.foo</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">float</span>:<span class="value"> left</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>; <span class="comment">/* ignored, computed value is block */</span></span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.bar</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">float</span>:<span class="value"> left</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">display</span>:<span class="value"> block</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="2-4_POSITION:_STATIC">2.4 POSITION: STATIC</h2><p>除了上面的变化，当<code>position</code>属性值为<code>static</code>时，相互作用如下：</p>
<h3 id="偏移值">偏移值</h3><p>当元素静态定位时，偏移属性将失效，如下代码所示。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.foo</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> static</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">50px</span></span></span>; <span class="comment">/* does not apply */</span></span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="3-_声明"><strong>3. 声明</strong></h1><p>爱前端乐分享的FedFun，csdn专家博客，王海庆希望能对您有所帮助，限于作者水平有限，出错难免，欢迎拍砖！<br>欢迎任何形式的转载，烦请注明装载，保留本段文字。<br>本文原文链接<a href="http://blog.csdn.net/whqet/article/details/49464099" target="_blank" rel="external">http://blog.csdn.net/whqet/article/details/49464099</a><br>独立博客<a href="http://whqet.github.io" target="_blank" rel="external">http://whqet.github.io</a><br>新浪微博<a href="http://weibo.com/FedFun" target="_blank" rel="external">http://weibo.com/FedFun</a><br>极客头条<a href="http://geek.csdn.net/user/publishlist/whqet" target="_blank" rel="external">http://geek.csdn.net/user/publishlist/whqet</a></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/03/28/intro-to-AngularJS/" itemprop="url">
                  02引言-AngularJS基础教程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-03-28T12:50:45+08:00" content="2015年03月28日">
              2015年03月28日
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分類於
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="1-_前言">1. 前言</h1><p>AngularJS是为了克服HTML在构建应用上的不足而设计的。HTML是一门很好的为静态文本展示设计的声明式语言，但要构建WEB应用的话它就显得乏力了，所以AngularJS做了一些工作来来解决静态网页技术在构建动态应用上的不足。</p>
<p>AngularJS的初衷是为了<strong>简化web APP开发</strong>，精髓是<strong>简单</strong>。但是国内外有很多AngularJS的教程，都着重讲AngularJS的强大之处，从而增加了AngularJS学习的难度，本教程试图用通俗的语言讲解<strong>最为基础</strong>、<strong>最为实用</strong>的内容，<strong><em>简化学习进程、降低学习难度</em></strong>是本教程的初衷。</p>
<p>本系列教程以<strong>翻译<em>Chris Smith</em></strong>的<a href="http://www.angularjsbook.com/" target="_blank" rel="external"><strong>Angualr Basics</strong></a>为梗概，融合博主自己的理解，为大家提供一个<strong><em>简单明了</em></strong>的学习教程。本文为系列教程第2篇引言，翻译自<a href="http://www.angularjsbook.com/angular-basics/chapters/introduction/" target="_blank" rel="external"><strong>Introduction</strong></a>。</p>
<ol>
<li>序</li>
<li><strong><em>引言-Introduction</em></strong></li>
<li>基础-Basics</li>
<li>控制器-Controllers</li>
<li>作用域-Scopes</li>
<li>集合-Collections</li>
<li>模块-Modules</li>
<li>依赖注入-Dependency Injection</li>
<li>服务-Services</li>
<li>过滤器-Filters</li>
<li>指令-Directives</li>
<li>指令作用域-Directive Scopes</li>
<li>路由-Routing</li>
<li>通信-HTTP</li>
<li>结论</li>
</ol>
<h1 id="2-正文">2.正文</h1><p>这是一本袖珍书，灵感来自于其他免费、简短、友好的编程书，例如Alex MacCaw的《<a href="http://arcturo.github.io/library/coffeescript/index.html" target="_blank" rel="external">The Little Book on CoffeeScript</a>》。我写这本书的目的是像我学习AugularJS那样介绍它，关注典型环境的快速web开发中如何应用AngularJS。依据<a href="http://www.360doc.com/content/12/0421/17/3908533_205453356.shtml" target="_blank" rel="external">帕累托原则</a>（<a href="http://en.wikipedia.org/wiki/Pareto_principle" target="_blank" rel="external">Pareto principle</a>）， 优先讲简单、实用的功能，课程结束之后，您可能只了解AngularJS的一部分，却可以利用该框架轻松创建强大的前端应用。本书是一个动态网站，所有案例使用最新版的AngularJS（Angular 1.3.14），如果您倾向于交互学习，那么修改代码指令，您可以实时的看到运行效果，鼓励大家进行探究性、实验性学习。</p>
<p>如果您想了解更多我为什么写这本书，了解AngularJS的历史，AngularJS是否适合您的项目，请继续阅读本文，如果您非常确定您为什么阅读本文，急于学习AngularJS请移步系列教程第03篇基础。</p>
<p>##2.1 AngularJS 难或易?<br>我有近十年的web MVC的工作经验，从 Struts 到Spring MVC到Ruby on Rails到Backbone，我甚至还写了一本<a href="http://www.scriptybooks.com/books/backbone-coffeescript" target="_blank" rel="external">Backbone and CoffeeScript方面的书</a>，因此我自认为学习AngularJS起来肯定非常简单。但是，当我沉浸在API和文档中时，我发现各种各样不熟悉的名词和术语（transclusion, directive, and isolate scope）阻碍了学习进程，当我阅读官方文档和教程时，所谓的简单易学好像没有出现，反而是一头雾水，比如说下面这段折磨人的文字。</p>
<blockquote>
<p>The advantage of transclusion is that the linking function receives a transclusion function which is pre-bound to the correct scope. In a typical setup the widget creates an isolate scope, but the transclusion is not a child, but a sibling of the isolate scope. This makes it possible for the widget to have private state, and the transclusion to be bound to the parent (pre-isolate) scope.</p>
</blockquote>
<p>现在官方文档里面已经没有这段文字了，通过AngularJS官方团队的不懈努力，官方文档的可读性进一步增强了很多。但是，当我第一次阅读时，这段文字让我感觉非常无知，好像走进了一个新的领域，我感觉到AngularJS是一个复杂的技术（没有开玩笑）， AngularJS的各种细节在广泛的被讨论，难以调试、怪癖、陷阱等。</p>
<p>像任何自尊自爱的程序猿一样，我撸起袖子奋战到底，慢慢地我熟悉了那些名词和术语，以为学习必然有点陡。直到有一天，我看到AngularJS的创始人Miško Hevery的<a href="https://www.youtube.com/watch?v=X0VsStcCCM8" title="youtube，你懂得" target="_blank" rel="external">视频采访</a>，根据Hevery的解释，我发现了一个简单而又重要的事实：</p>
<blockquote>
<p>使用简单是AngularJS的初衷</p>
</blockquote>
<p>Hevery解释道，当他构思AngularJS时，把它作为非编程人员仅仅使用预定义的标签就能创建动态web应用的工具。我才意识到，我卷入了太多的AngularJS的细节而没有获得相应的收益。Angular项目及相关社区在相互协作方面投入太多精力，增加了Angular的复杂性和学习的难度，我们需要探索更好的使用方式以趋近于Angular的开发初衷，去除大量的精巧设计的控制，不考虑微弱的内部安全隐患，直接向前。</p>
<p>对我来说这个方法是正确的，尽管Angular不是我唯一的web开发语言，但绝对是最闪耀的那个。</p>
<h2 id="2-2_您需要Angular吗？">2.2 您需要Angular吗？</h2><p>虽然类似于Angular的客户端js工具让创建单页面应用变得如此简单，但是不少web项目仍然使用传统的架构，服务端渲染、jQuery实现交互。坦率的讲，您需要考虑您的项目是否需要在客户端管理数据、渲染html，您是否有足够的理由开始尝试一项新的技术。</p>
<p>当然，Angular是一个明显的、<strong>固执己见</strong>的选择(Angular is a broad, opinionated solution)。虽然通常被认作一个库，但是Angular内置的对模块化、依赖注入的支持，将会改变您的项目管理方式。如果你想找一个Angular的替代方案，或许更加成熟的，或许最佳的，但是这些都不可能完全替代Angular。除非您的项目肯定能达到Google工程师认为的经典的水准，你可能不需要达到Angular核心团队认定的组织支持的水平。依赖注入尽管可以用在单元测试方面，但还是太过复杂，大家可以到<a href="http://www.angularjsbook.com/angular-basics/chapters/dependency-injection/" target="_blank" rel="external">Dependency Injection</a> 看看实在的案例。</p>
<p>当您需要引入非Angular代码和Angular的数据绑定和渲染机制协同工作的话，将会产生<strong>另一个问题</strong>，您需要非常深入这些神秘的细节。相对来说，<a href="http://backbonejs.org/" target="_blank" rel="external">Backbone</a>基于jQuery，更加简单、更加易于理解，如果您的项目深度依赖jQuery，利用Backbone实现渐进增强也是一个不错的选择。</p>
<p>另外，Angular在UI组件和模型对象之间的双向绑定，也会增加应用的复杂性。Facebook的开发者分享了双向数据绑定中的挫败感：</p>
<blockquote>
<p>我们发现双向数据绑定容易导致级联更新： 一个对象的改变导致另一个对象的改变，甚至更多对象的改变。随着应用的增长，由用户行为导致的级联更新将会很难预测。</p>
</blockquote>
<p>相对于Angular来说，尽管Facebook的 <a href="http://facebook.github.io/react/" target="_blank" rel="external">React</a>不重在关注渲染，但是基于React的客户端技术也值得一试。</p>
<h2 id="2-3_使用Angular的理由">2.3 使用Angular的理由</h2><p>Angular可能是当今最流行的<strong>Javascript MV*</strong>解决方案，github得到了36722个star，当然阅读本文时可能更多。它迅速从同类的解决方案中脱颖而出，成为顶级解决方案，大家可以到<a href="http://todomvc.com/" target="_blank" rel="external">TodoMVC project</a>比较诸多<strong>MV*方案</strong>。让我们来看看Angular成功的原因。</p>
<ul>
<li><strong>快速成型</strong>（Immediate productivity）<br>如果您的项目需要用户界面实现数据的增删改查操作，Angular可以非常漂亮地兑现快速成型的承诺。仅仅需要在普通的html添加几个属性，使用少量的几行javascript代码你就可以实现普通类库需要大量技能、大量努力才能实现的功能。</li>
<li><strong>熟悉度</strong><br>Angular包含开发人员熟知的原生JS和<strong>几乎</strong>普通的HTML，用<strong>几乎</strong>这个词主要是因为Angular引入了一些新增的html元素，属性和一些可能看起来恐怖的行内代码。相对于其他模板系统，Angular已经非常接近html了，大部分开发人员都能够轻松理解。</li>
<li><strong>适应性</strong><br>Angular可以很好支持当前的UI核心的JS类库，如果想使用类似于Bootstrap这样的流行类库的话，您可以有效利用<a href="http://angular-ui.github.io/" target="_blank" rel="external">AngularUI</a>这样的第三方项目实现简单整合。所以，无论你想为传统文档中心网站增加交互性，还是开发一个炫彩的单页面应用，Angular都可以是一个不错的选择。</li>
<li><strong>未来标准</strong><br> 尽管我不能确定Angualr能达到什么高度，Angular母公司Google会如何创造未来，有一点非常明确，Angular的使用方式非常接近目前提出的标准 <a href="http://www.w3.org/TR/components-intro/" target="_blank" rel="external">Web Components</a>，另外，Angular接近于下个版本Javascript的特征（例如<a href="http://wiki.ecmascript.org/doku.php?id=harmony:observe" target="_blank" rel="external">Object.observe</a>）它的基础原则将会被维持而不会弃用。</li>
<li><strong>社区</strong><br>当然，一个非常重要的原因是它非常流行，应用于大量的超负荷网站中，Google的定力支持，大量的插件和学习资源。当然大部分人的正确选择不一定是每个人的正确选择，你还需要谨慎考虑Angular是否真的适合您。</li>
</ul>
<h2 id="2-4_关于本书">2.4 关于本书</h2><p>很多年前当我在My MacBook Air上阅读一本JS编程书时，已经有了脚本书( <a href="http://www.scriptybooks.com/books/backbone-coffeescript" target="_blank" rel="external">ScriptyBooks</a>)的点子。需要运行书中的一个案例时，我们从网站中下载案例，着急于如何打开它，从大量的文件中找到需要的文件，费劲九牛二虎之力找到正确的文件，打开它，修改它，但是很可能你还是不能运行，你可能需要安装支持环境。</p>
<p>为什么我们在讲解一个前端技术时，还需要耗费诸多努力才能运行一个案例，如果能够可以在书中展示代码，允许您进行修改，并且实时展示代码呈现结果，那就很美妙了。</p>
<p>本书采用这样的方式。所有代码均可以动态修改，并实时展示代码运行结果。如下所示。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">strong</span>&gt;</span>The lucky number &#123;&#123;3 + 5&#125;&#125;.<span class="tag">&lt;/<span class="title">strong</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>The lucky number 8.</strong></p>
<p>我利用 <a href="http://codemirror.net/" target="_blank" rel="external">CodeMirror</a> 和Angular实现动态交互功能，如果还是angular菜鸟，不妨修改下上面的代码，看看会发生什么(博客支持技术有限，本教程没有提供动态修改代码功能，望见谅。请阅读原教程代码)。</p>
<h2 id="2-5_接下来">2.5 接下来</h2><p>接下来，准备讲解客户端模板(client-side templating)和双向绑定(two-way bindings)，向您展示Angular的基础。尽管大部分代码非常简单，一眼看过去就可以理解，但相信哪怕有经验的Angular开发人员也可以有所收获。</p>
<h1 id="3-声明">3.声明</h1><p>前端开发whqet，关注前端开发，分享相关资源。csdn专家博客，王海庆希望能对您有所帮助，限于作者水平有限，出错难免，欢迎拍砖！<br>欢迎任何形式的转载，烦请注明装载，保留本段文字。<br>本文原文链接，<a href="http://blog.csdn.net/whqet/article/details/44596577" target="_blank" rel="external">http://blog.csdn.net/whqet/article/details/44596577</a><br>欢迎大家访问独立博客<a href="http://whqet.github.io" target="_blank" rel="external">http://whqet.github.io</a></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/03/26/about-AngularJS/" itemprop="url">
                  01序-AngularJS 基础教程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-03-26T12:50:45+08:00" content="2015年03月26日">
              2015年03月26日
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分類於
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="1-_前言">1. 前言</h1><p>AngularJS是为了克服HTML在构建应用上的不足而设计的。HTML是一门很好的为静态文本展示设计的声明式语言，但要构建WEB应用的话它就显得乏力了，所以AngularJS做了一些工作来来解决静态网页技术在构建动态应用上的不足。</p>
<p>AngularJS的初衷是为了<strong>简化web APP开发</strong>，精髓是<strong>简单</strong>。但是国内外有很多AngularJS的教程，都着重讲AngularJS的强大之处，从而增加了AngularJS学习的难度，本教程试图用通俗的语言讲解<strong>最为基础</strong>、<strong>最为实用</strong>的内容，<strong><em>简化学习进程、降低学习难度</em></strong>是本教程的初衷。</p>
<p>欢迎大家<strong>批评指正</strong>。</p>
<h1 id="2-_AngularJS？">2. AngularJS？</h1><p>AngularJS主要用于构建单页面Web应用，同其他历史悠久的Web技术（HTML、CSS和JavaScript）配合使用，使构建交互式的现代Web应用变得更加简单。</p>
<p>AngularJS提供了开发者在现代Web应用中经常要用到的一系列高级功能，例如解耦应用逻辑、数据模型和视图，Ajax服务，双向绑定、依赖注入、测试等功能，通过原生的Model-View-Controller（MVC，模型视图控制器）功能增强了HTML，从而降低构建复杂应用的难度。</p>
<h1 id="3-_系列教程目录">3. 系列教程目录</h1><ol>
<li>序</li>
<li>引言-Introduction</li>
<li>基础-Basics</li>
<li>控制器-Controllers</li>
<li>作用域-Scopes</li>
<li>集合-Collections</li>
<li>模块-Modules</li>
<li>依赖注入-Dependency Injection</li>
<li>服务-Services</li>
<li>过滤器-Filters</li>
<li>指令-Directives</li>
<li>指令作用域-Directive Scopes</li>
<li>路由-Routing</li>
<li>通信-HTTP</li>
<li>结论</li>
</ol>
<h1 id="4-_学习资源">4. 学习资源</h1><ol>
<li><a href="http://www.angularjsbook.com/" target="_blank" rel="external">ANGULAR BASICS</a></li>
<li><a href="http://angularjs.org/" target="_blank" rel="external">官方网站</a>–墙外，大家懂的，可以访问官方<a href="https://github.com/angular/angular.js" target="_blank" rel="external">github</a>。</li>
<li><a href="http://www.angularjs.cn/" target="_blank" rel="external">angularjs中文社区</a></li>
<li><a href="http://www.ngnice.com/" target="_blank" rel="external">AngularJS Nice Things</a>–爱好者聚集地</li>
<li><a href="http://www.apjs.net/" target="_blank" rel="external">AngularJS中文网</a></li>
<li><a href="http://docs.ngnice.com/api" target="_blank" rel="external">AngularJS手册</a>，<a href="http://code.csdn.net/translations/56" title="在译，欢迎参与" target="_blank" rel="external">中文手册</a></li>
<li><a href="http://developer.51cto.com/art/201311/416334.htm" target="_blank" rel="external">七步从Angular.JS菜鸟到专家</a><h1 id="5-声明">5.声明</h1>前端开发whqet，关注前端开发，分享相关资源。csdn专家博客，王海庆希望能对您有所帮助，限于作者水平有限，出错难免，欢迎拍砖！<br>欢迎任何形式的转载，烦请注明装载，保留本段文字。<br>本文原文链接，<a href="http://blog.csdn.net/whqet/article/details/44586849" target="_blank" rel="external">http://blog.csdn.net/whqet/article/details/44586849</a><br>欢迎大家访问独立博客<a href="http://whqet.github.io" target="_blank" rel="external">http://whqet.github.io</a></li>
</ol>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/03/21/pagevisibility/" itemprop="url">
                  Page Visibility实现焦点丢失提醒
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-03-21T05:30:25+08:00" content="2015年03月21日">
              2015年03月21日
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分類於
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="0-前言">0.前言</h1><p>HTML5 Page Visibility API是一个非常有用的特性，当页面对用户不可见时，暂停播放页面中的视频、动画、声音、以及其他耗费内存的操作，等用户回来时，再继续这些操作。当然，最好提醒下用户可以继续回到本页面上来，本文研究利用改变页面tab（title）实现提醒。</p>
<p>[toc]</p>
<h1 id="效果预览"><a href="http://whqet.github.io/demo/html5/pageVisibility.html" target="_blank" rel="external">效果预览</a></h1><h1 id="代码解析">代码解析</h1><h2 id="实现过程">实现过程</h2><p>实现过程非常简单，侦听visibilitychange事件，然后改变页面标题。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> title = <span class="built_in">document</span>.title,</span><br><span class="line">newTitle = <span class="string">"记得回来哟 "</span> + title;</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"visibilitychange"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">document</span>.title = ((<span class="built_in">document</span>.hidden) ? newTitle : title);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="兼容性分析">兼容性分析</h2><p>来自<a href="http://caniuse.com/#feat=pagevisibility" target="_blank" rel="external">caniuse</a>的数据，Page Visibility在现代浏览器中兼容性不错，如下图所示。<br><img src="http://img.blog.csdn.net/20150321061724306" alt="page visibility兼容表"></p>
<h1 id="学习资源">学习资源</h1><ol>
<li><a href="http://www.w3.org/TR/page-visibility/" target="_blank" rel="external">Page Visibility参考手册</a></li>
<li><a href="http://caniuse.com/#feat=pagevisibility" target="_blank" rel="external">Page Visibility兼容性表格</a></li>
<li><a href="http://www.smashingmagazine.com/2015/01/20/creating-sites-with-the-page-visibility-api/" target="_blank" rel="external">Creating Well-Behaved Sites With The Page Visibility API</a></li>
<li><a href="http://www.zhangxinxu.com/wordpress/2012/11/page-visibility-api-introduction-extend/" target="_blank" rel="external">Page Visibility(页面可见性) API介绍、微拓展</a></li>
<li><a href="http://davidwalsh.name/page-visibility" target="_blank" rel="external">Page Visibility API</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API" target="_blank" rel="external">Using the Page Visibility API</a></li>
</ol>
<p>#声明<br><strong>前端开发whqet，关注前端开发，分享相关资源。csdn专家博客，王海庆希望能对您有所帮助，限于作者水平有限，出错难免，欢迎拍砖！</strong><br><strong>欢迎任何形式的转载，烦请注明装载，保留本段文字。</strong><br><em>本文原文链接，<a href="http://blog.csdn.net/whqet/article/details/44511735" target="_blank" rel="external">http://blog.csdn.net/whqet/article/details/44511735</a></em><br><em>欢迎大家访问独立博客<a href="http://whqet.github.io" target="_blank" rel="external">http://whqet.github.io</a></em></p>
<script>
    var title = document.title,
    newTitle = "记得回来哟 " + title;
    document.addEventListener("visibilitychange", function() {
        document.title = ((document.hidden) ? newTitle : title);
    });
</script>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/21/javascript-tips-and-tricks/" itemprop="url">
                  Javascrit Tips & Tricks
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-02-21T05:30:25+08:00" content="2015年02月21日">
              2015年02月21日
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分類於
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>前端开发规范系列文章之Javascript Tips and Tricks，本意是写成常用代码收集、常用技巧整理的文章，感觉“常用代码大全”太土、“实用代码整理”有失偏颇，“提示与技巧”不够稳重，所以使用常用的英语说法，相信广大程序员都懂得。</p>
<p>##妙味<br>Javascript美妙之处，需要我们静静体会，慢慢吸收，然后让代码在您指下曼舞。整理的这些代码我们称之为妙味，请大家细品。<br>博主会不断更新本文，方便大家阅读起见，我们采用<strong>倒序更新</strong>的方式，把<strong>最新更新的放最上方</strong>。</p>
<h3 id="事件处理">事件处理</h3><p>我们知道IE和标准浏览器在事件处理方面有很大不同，所以我们在使用的时候需要首先进行统一化处理，统一处理时有两种方式，shim和polyfill。<br>shim将新的api引入新的环境中，例如下面的代码使用addEvent和removeEvent来添加删除事件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// Shim for DOM Events for IE7-&#10;// http://www.quirksmode.org/blog/archives/2005/10/_and_the_winner_1.html&#10;// Use addEvent(object, event, handler) instead of object.addEventListener(event, handler)&#10;window.addEvent = function(obj, type, fn) &#123;&#10;&#9;if (obj.addEventListener) &#123;&#10;&#9;&#9;obj.addEventListener(type, fn, false);&#10;&#9;&#125; else if (obj.attachEvent) &#123;&#10;&#9;&#9;obj[&#34;e&#34; + type + fn] = fn;&#10;&#9;&#9;obj[type + fn] = function() &#123;&#10;&#9;&#9;&#9;var e = window.event;&#10;&#9;&#9;&#9;e.currentTarget = obj;&#10;&#9;&#9;&#9;e.preventDefault = function() &#123;&#10;&#9;&#9;&#9;&#9;e.returnValue = false;&#10;&#9;&#9;&#9;&#125;;&#10;&#9;&#9;&#9;e.stopPropagation = function() &#123;&#10;&#9;&#9;&#9;&#9;e.cancelBubble = true;&#10;&#9;&#9;&#9;&#125;;&#10;&#9;&#9;&#9;e.target = e.srcElement;&#10;&#9;&#9;&#9;e.timeStamp = Date.now();&#10;&#9;&#9;&#9;obj[&#34;e&#34; + type + fn].call(this, e);&#10;&#9;&#9;&#125;;&#10;&#9;&#9;obj.attachEvent(&#34;on&#34; + type, obj[type + fn]);&#10;&#9;&#125;&#10;&#125;;&#10;&#10;window.removeEvent = function(obj, type, fn) &#123;&#10;&#9;if (obj.removeEventListener) &#123;&#10;&#9;&#9;obj.removeEventListener(type, fn, false);&#10;&#9;&#125; else if (obj.detachEvent) &#123;&#10;&#9;&#9;obj.detachEvent(&#34;on&#34; + type, obj[type + fn]);&#10;&#9;&#9;obj[type + fn] = null;&#10;&#9;&#9;obj[&#34;e&#34; + type + fn] = null;&#10;&#9;&#125;&#10;&#125;;</span><br></pre></td></tr></table></figure>
<p>polyfill让旧浏览器支持新功能，使用方式和标准浏览器一样，例如下面的EventListener polyfill在IE9-浏览器上实现addEventListener、removeEventListener、dispatchEvent和customEvent等。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//&#10;this.Element &#38;&#38; Element.prototype.attachEvent &#38;&#38; !Element.prototype.addEventListener &#38;&#38; (function () &#123;&#10;&#9;function addToPrototype(name, method) &#123;&#10;&#9;&#9;Window.prototype[name] = HTMLDocument.prototype[name] = Element.prototype[name] = method;&#10;&#9;&#125;&#10;&#9;// add&#10;&#9;addToPrototype(&#34;addEventListener&#34;, function (type, listener) &#123;&#10;&#9;&#9;var&#10;&#9;&#9;target = this,&#10;&#9;&#9;listeners = target.addEventListener.listeners = target.addEventListener.listeners || &#123;&#125;,&#10;&#9;&#9;typeListeners = listeners[type] = listeners[type] || [];&#10;&#10;&#9;&#9;// if no events exist, attach the listener&#10;&#9;&#9;if (!typeListeners.length) &#123;&#10;&#9;&#9;&#9;target.attachEvent(&#34;on&#34; + type, typeListeners.event = function (event) &#123;&#10;&#9;&#9;&#9;&#9;var documentElement = target.document &#38;&#38; target.document.documentElement || target.documentElement || &#123; scrollLeft: 0, scrollTop: 0 &#125;;&#10;&#10;&#9;&#9;&#9;&#9;// polyfill w3c properties and methods&#10;&#9;&#9;&#9;&#9;event.currentTarget = target;&#10;&#9;&#9;&#9;&#9;event.pageX = event.clientX + documentElement.scrollLeft;&#10;&#9;&#9;&#9;&#9;event.pageY = event.clientY + documentElement.scrollTop;&#10;&#9;&#9;&#9;&#9;event.preventDefault = function () &#123; event.returnValue = false &#125;;&#10;&#9;&#9;&#9;&#9;event.relatedTarget = event.fromElement || null;&#10;&#9;&#9;&#9;&#9;event.stopImmediatePropagation = function () &#123; immediatePropagation = false; event.cancelBubble = true &#125;;&#10;&#9;&#9;&#9;&#9;event.stopPropagation = function () &#123; event.cancelBubble = true &#125;;&#10;&#9;&#9;&#9;&#9;event.target = event.srcElement || target;&#10;&#9;&#9;&#9;&#9;event.timeStamp = +new Date;&#10;&#10;&#9;&#9;&#9;&#9;// create an cached list of the master events list (to protect this loop from breaking when an event is removed)&#10;&#9;&#9;&#9;&#9;for (var i = 0, typeListenersCache = [].concat(typeListeners), typeListenerCache, immediatePropagation = true; immediatePropagation &#38;&#38; (typeListenerCache = typeListenersCache[i]); ++i) &#123;&#10;&#9;&#9;&#9;&#9;&#9;// check to see if the cached event still exists in the master events list&#10;&#9;&#9;&#9;&#9;&#9;for (var ii = 0, typeListener; typeListener = typeListeners[ii]; ++ii) &#123;&#10;&#9;&#9;&#9;&#9;&#9;&#9;if (typeListener == typeListenerCache) &#123;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;typeListener.call(target, event);&#10;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#125;&#10;&#9;&#9;&#9;&#9;&#9;&#125;&#10;&#9;&#9;&#9;&#9;&#125;&#10;&#9;&#9;&#9;&#125;);&#10;&#9;&#9;&#125;&#10;&#10;&#9;&#9;// add the event to the master event list&#10;&#9;&#9;typeListeners.push(listener);&#10;&#9;&#125;);&#10;&#10;&#9;// remove&#10;&#9;addToPrototype(&#34;removeEventListener&#34;, function (type, listener) &#123;&#10;&#9;&#9;var&#10;&#9;&#9;target = this,&#10;&#9;&#9;listeners = target.addEventListener.listeners = target.addEventListener.listeners || &#123;&#125;,&#10;&#9;&#9;typeListeners = listeners[type] = listeners[type] || [];&#10;&#10;&#9;&#9;// remove the newest matching event from the master event list&#10;&#9;&#9;for (var i = typeListeners.length - 1, typeListener; typeListener = typeListeners[i]; --i) &#123;&#10;&#9;&#9;&#9;if (typeListener == listener) &#123;&#10;&#9;&#9;&#9;&#9;typeListeners.splice(i, 1);&#10;&#10;&#9;&#9;&#9;&#9;break;&#10;&#9;&#9;&#9;&#125;&#10;&#9;&#9;&#125;&#10;&#10;&#9;&#9;// if no events exist, detach the listener&#10;&#9;&#9;if (!typeListeners.length &#38;&#38; typeListeners.event) &#123;&#10;&#9;&#9;&#9;target.detachEvent(&#34;on&#34; + type, typeListeners.event);&#10;&#9;&#9;&#125;&#10;&#9;&#125;);&#10;&#10;&#9;// dispatch&#10;&#9;addToPrototype(&#34;dispatchEvent&#34;, function (eventObject) &#123;&#10;&#9;&#9;var&#10;&#9;&#9;target = this,&#10;&#9;&#9;type = eventObject.type,&#10;&#9;&#9;listeners = target.addEventListener.listeners = target.addEventListener.listeners || &#123;&#125;,&#10;&#9;&#9;typeListeners = listeners[type] = listeners[type] || [];&#10;&#10;&#9;&#9;try &#123;&#10;&#9;&#9;&#9;return target.fireEvent(&#34;on&#34; + type, eventObject);&#10;&#9;&#9;&#125; catch (error) &#123;&#10;&#9;&#9;&#9;if (typeListeners.event) &#123;&#10;&#9;&#9;&#9;&#9;typeListeners.event(eventObject);&#10;&#9;&#9;&#9;&#125;&#10;&#10;&#9;&#9;&#9;return;&#10;&#9;&#9;&#125;&#10;&#9;&#125;);&#10;&#10;&#9;// CustomEvent&#10;&#9;Object.defineProperty(Window.prototype, &#34;CustomEvent&#34;, &#123;&#10;&#9;&#9;get: function () &#123;&#10;&#9;&#9;&#9;var self = this;&#10;&#10;&#9;&#9;&#9;return function CustomEvent(type, eventInitDict) &#123;&#10;&#9;&#9;&#9;&#9;var event = self.document.createEventObject(), key;&#10;&#10;&#9;&#9;&#9;&#9;event.type = type;&#10;&#9;&#9;&#9;&#9;for (key in eventInitDict) &#123;&#10;&#9;&#9;&#9;&#9;&#9;if (key == &#39;cancelable&#39;)&#123;&#10;&#9;&#9;&#9;&#9;&#9;&#9;event.returnValue = !eventInitDict.cancelable;&#10;&#9;&#9;&#9;&#9;&#9;&#125; else if (key == &#39;bubbles&#39;)&#123;&#10;&#9;&#9;&#9;&#9;&#9;&#9;event.cancelBubble = !eventInitDict.bubbles;&#10;&#9;&#9;&#9;&#9;&#9;&#125; else if (key == &#39;detail&#39;)&#123;&#10;&#9;&#9;&#9;&#9;&#9;&#9;event.detail = eventInitDict.detail;&#10;&#9;&#9;&#9;&#9;&#9;&#125;&#10;&#9;&#9;&#9;&#9;&#125;&#10;&#9;&#9;&#9;&#9;return event;&#10;&#9;&#9;&#9;&#125;;&#10;&#9;&#9;&#125;&#10;&#9;&#125;);&#10;&#10;&#9;// ready&#10;&#9;function ready(event) &#123;&#10;&#9;&#9;if (ready.interval &#38;&#38; document.body) &#123;&#10;&#9;&#9;&#9;ready.interval = clearInterval(ready.interval);&#10;&#10;&#9;&#9;&#9;document.dispatchEvent(new CustomEvent(&#34;DOMContentLoaded&#34;));&#10;&#9;&#9;&#125;&#10;&#9;&#125;&#10;&#10;&#9;ready.interval = setInterval(ready, 1);&#10;&#10;&#9;window.addEventListener(&#34;load&#34;, ready);&#10;&#125;)();&#10;&#10;!this.CustomEvent &#38;&#38; (function() &#123;&#10;&#9;// CustomEvent for browsers which don&#39;t natively support the Constructor method&#10;&#9;window.CustomEvent = function CustomEvent(type, eventInitDict) &#123;&#10;&#9;&#9;var event;&#10;&#9;&#9;eventInitDict = eventInitDict || &#123;bubbles: false, cancelable: false, detail: undefined&#125;;&#10;&#10;&#9;&#9;try &#123;&#10;&#9;&#9;&#9;event = document.createEvent(&#39;CustomEvent&#39;);&#10;&#9;&#9;&#9;event.initCustomEvent(type, eventInitDict.bubbles, eventInitDict.cancelable, eventInitDict.detail);&#10;&#9;&#9;&#125; catch (error) &#123;&#10;&#9;&#9;&#9;// for browsers which don&#39;t support CustomEvent at all, we use a regular event instead&#10;&#9;&#9;&#9;event = document.createEvent(&#39;Event&#39;);&#10;&#9;&#9;&#9;event.initEvent(type, eventInitDict.bubbles, eventInitDict.cancelable);&#10;&#9;&#9;&#9;event.detail = eventInitDict.detail;&#10;&#9;&#9;&#125;&#10;&#10;&#9;&#9;return event;&#10;&#9;&#125;;&#10;&#125;)();</span><br></pre></td></tr></table></figure>
<h3 id="置乱数组">置乱数组</h3><p>Javascript中置乱数组的一种方式，sort方法可以接受一个 函数为参数，当函数返回值为1的时候就交换两个数组项的顺序，否则就不交换。如下代码所示。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yourArray.sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">0.5</span> - <span class="built_in">Math</span>.random() &#125;);</span><br></pre></td></tr></table></figure></p>
<p>但是这种方式执行效率比较低，我还需探索更为高效的置乱方式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 添加原型方法的方式 */</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.shuffle = <span class="built_in">Array</span>.prototype.shuffle || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> j, x, i = <span class="keyword">this</span>.length; i; j = <span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random() * i), x = <span class="keyword">this</span>[--i], <span class="keyword">this</span>[i] = <span class="keyword">this</span>[j], <span class="keyword">this</span>[j] = x);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>这种方式已经比较高效，但是可控性不强，不能指定随机方法，我们又进行了改进。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 带参数的置乱数组原型方法</span><br><span class="line"> * copy默认值为false，copy为true时 ，返回置乱的数组，不影响数组本身</span><br><span class="line"> * rng为置乱函数，默认为Math.random</span><br><span class="line"> * */</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.shuffle = <span class="built_in">Array</span>.prototype.shuffle || <span class="function"><span class="keyword">function</span>(<span class="params">copy, rng</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> that = <span class="keyword">this</span>,                  <span class="comment">//保证原数组不受影响</span></span><br><span class="line">		i = <span class="keyword">this</span>.length,              <span class="comment">//循环指针，初始值为数组长度</span></span><br><span class="line">	    r,                            <span class="comment">//随机数</span></span><br><span class="line">	    t;                            <span class="comment">//交换时的临时变量</span></span><br><span class="line">	</span><br><span class="line">	copy = copy || <span class="literal">false</span>;             <span class="comment">//参数默认值</span></span><br><span class="line">	rng = rng || <span class="built_in">Math</span>.random;</span><br><span class="line">	copy&amp;&amp;(that=<span class="keyword">this</span>.slice());        <span class="comment">//copy为true时，生成新的数组that</span></span><br><span class="line">	<span class="keyword">while</span>(i)&#123;</span><br><span class="line">		r = <span class="built_in">Math</span>.floor(rng() * i);    <span class="comment">//生成随机数</span></span><br><span class="line">		t=that[--i];                  <span class="comment">//交换数值</span></span><br><span class="line">		that[i]=that[r];</span><br><span class="line">		that[r]=t;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> that;                      <span class="comment">//返回置乱后数组</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="删除字符串中的空格(Trim_String)">删除字符串中的空格(Trim String)</h3><p>es5中具有删除空格的原生方法String.trimLeft()、 String.trimRight()和 String.trim()，这些方法在标准浏览器中<a href="http://kangax.github.io/compat-table/non-standard/" target="_blank" rel="external">兼容性</a>良好，trim方法在ie 9+兼容良好，trimLeft和trimRight在IE中不兼容，不兼容的浏览器我们需要使用polyfill。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* e5中trim方法的polyfill */</span></span><br><span class="line"><span class="built_in">String</span>.prototype.trim = <span class="built_in">String</span>.prototype.trim || <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/^\s+|\s+$/g</span>, <span class="string">""</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">String</span>.prototype.trimLeft = <span class="built_in">String</span>.prototype.trimLeft || <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/^\s+/</span>, <span class="string">""</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">String</span>.prototype.trimRight = <span class="built_in">String</span>.prototype.trimRight || <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/\s+$/</span>, <span class="string">""</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">String</span>.prototype.trimFull = <span class="built_in">String</span>.prototype.trimFull || <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/(?:(?:^|\n)\s+|\s+(?:$|\n))/g</span>, <span class="string">""</span>).replace(<span class="regexp">/\s+/g</span>, <span class="string">" "</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line"><span class="string">"  hello   world   "</span>.trimRight();    <span class="comment">//"  hello   world"</span></span><br><span class="line"><span class="string">"  hello   world   "</span>.trimLeft();     <span class="comment">//"hello   world   "</span></span><br><span class="line"><span class="string">"  hello   world   "</span>.trim();         <span class="comment">//"hello   world"</span></span><br><span class="line"><span class="string">"  hello   world   "</span>.trimFull();     <span class="comment">//"hello world"</span></span><br></pre></td></tr></table></figure>
<h3 id="检测html标签属性">检测html标签属性</h3><p>有的时候我们想知道某个元素是否具备某属性，我们可以使用该函数检测。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//检测属性</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">elementSupportsAttribute</span>(<span class="params">element, attribute</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> test = <span class="built_in">document</span>.createElement(element);</span><br><span class="line">  <span class="keyword">if</span> (attribute <span class="keyword">in</span> test) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//简化版检测属性</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">elementSupportsAttribute</span>(<span class="params">element, attribute</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !!(attribute <span class="keyword">in</span> <span class="built_in">document</span>.createElement(element));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//使用,检测textarea元素的placeholder属性</span></span><br><span class="line">elementSupportsAttribute(<span class="string">"textarea"</span>, <span class="string">"placeholder"</span>)?alert(<span class="string">"ok"</span>):alert(<span class="string">"not"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="尽量使用“===”">尽量使用“===”</h3><p>在javascript中，==和===都表示相等，但是==会在需要的时候进行类型转换，而===则不会进行类型转换，会比较数据类型和数据数值，比==执行速度快。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[10] === 10    // is false&#10;[10] ==  10    // is true&#10;&#39;10&#39; === 10    // is false&#10;&#39;10&#39; ==  10    // is true&#10; []  === 0     // is false&#10; []  ==  0     // is true&#10; &#39;&#39;  === false // is false &#10; &#39;&#39;  ==  false // is true but true == &#34;a&#34; is false</span><br></pre></td></tr></table></figure>
<h3 id="悬挂(Hoisting)">悬挂(Hoisting)</h3><p>首先来看段代码，大家先猜下运行结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">go</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">go();</span><br></pre></td></tr></table></figure>
<p>运行结果为： undefined，你猜对了吗？我们接下来看看为啥？<br>悬挂，也即所有函数体内的变量声明（注意，仅仅是声明）都将被提到函数体开头进行。所以上面这段代码实际上是这样执行的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line">a = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">go</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    a = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">go();</span><br></pre></td></tr></table></figure>
<h3 id="立即调用函数表达式(IIFE)">立即调用函数表达式(IIFE)</h3><p><strong>立即调用函数表达式</strong>(IIFE, Immediately Invoked Function Expressions)是Javascript里面常用特性，我们可以利用它“避免污染全局变量”、“解决闭包冲突”、“只执行一次的函数”、“减少重复创建比较大的对象的开销（常见在一些工具函数内部，保存正则对象，数组，长字符串等对象”等。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*简化版的IIFE*/</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="comment">//您的代码</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></p>
<p><strong>模拟块作用域</strong>，避免污染全局变量，常见的插件即是如此。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* jquery1.9.0的写法 */</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> window, undefined </span>) </span>&#123;</span><br><span class="line">	<span class="comment">//非常长的代码</span></span><br><span class="line">&#125;)( <span class="built_in">window</span> );</span><br></pre></td></tr></table></figure></p>
<p><strong>解决闭包冲突</strong>，我们知道闭包可以让“函数内部所定义的函数持有外层函数的执行环境”，然而也有可能有些问题，例如下面的代码。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> res = [];</span><br><span class="line">    <span class="keyword">var</span> fun = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(i);&#125;;<span class="comment">//产生闭包</span></span><br><span class="line">        res.push(fun);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 会输出10个10，而不是预期的0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line"><span class="keyword">var</span> res = f1();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; res.length; i++) &#123;</span><br><span class="line">    res[i]();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>我们可以使用IIFE解决这个问题，修正过的代码如下。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> res = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// 添加一个IIFE，立即执行</span></span><br><span class="line">        (<span class="function"><span class="keyword">function</span>(<span class="params">index</span>) </span>&#123;</span><br><span class="line">            fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="built_in">console</span>.log(index);&#125;;</span><br><span class="line">            res.push(fun);</span><br><span class="line">        &#125;)(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果为0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line"><span class="keyword">var</span> res = f1();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; res.length; i++) &#123;</span><br><span class="line">    res[i]();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>模拟单例</strong>，javascript中我们可以使用IIFE实现OOP。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> counter = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;,</span><br><span class="line">        set: <span class="function"><span class="keyword">function</span>(<span class="params"> val </span>)</span>&#123;</span><br><span class="line">            i = val;</span><br><span class="line">        &#125;,</span><br><span class="line">        increment: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> ++i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line">counter.get(); <span class="comment">// 0</span></span><br><span class="line">counter.set( <span class="number">3</span> );</span><br><span class="line">counter.increment(); <span class="comment">// 4</span></span><br><span class="line">counter.increment(); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure></p>
<p><strong>配合逻辑运算符使用</strong>，例如addEventListener的polyfill可以这么写。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*把IIFE和逻辑运算符配合使用，检测是否需要运行polyfill*/</span></span><br><span class="line"><span class="keyword">this</span>.Element &amp;&amp; </span><br><span class="line">Element.prototype.attachEvent &amp;&amp; !Element.prototype.addEventListener &amp;&amp; </span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">//polyfill</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="逻辑运算符妙用">逻辑运算符妙用</h3><p>使用&amp;&amp;和||条件运算符，我们可以达到简化操作的目的，来看下面代码。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* code one */</span></span><br><span class="line">​<span class="keyword">if</span> (!theTitle) &#123;</span><br><span class="line">  theTitle  = <span class="string">"Untitled Document"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用||</span></span><br><span class="line">theTitle  = theTitle || <span class="string">"Untitled Document"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* code two */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isAdult</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (age &amp;&amp; age &gt; <span class="number">17</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">​<span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用 &amp;&amp;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isAdult</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> age &amp;&amp; age &gt; <span class="number">17</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* code three*/</span></span><br><span class="line"><span class="keyword">if</span> (userName) &#123;</span><br><span class="line">  logIn (userName);</span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">else</span> &#123;</span><br><span class="line">   signUp ();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//混合使用&amp;&amp;、||</span></span><br><span class="line">userName &amp;&amp; logIn (userName) || signUp ();</span><br><span class="line"></span><br><span class="line"><span class="comment">/*code four*/</span></span><br><span class="line"><span class="keyword">var</span> userID;</span><br><span class="line">​<span class="keyword">if</span> (userName &amp;&amp; userName.loggedIn) &#123;</span><br><span class="line">  userID = userName.id;</span><br><span class="line">&#125;</span><br><span class="line">​<span class="keyword">else</span> &#123;</span><br><span class="line">  userID = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用&amp;&amp;、||</span></span><br><span class="line"><span class="keyword">var</span> userID = userName &amp;&amp; userName.loggedIn &amp;&amp; userName.id</span><br></pre></td></tr></table></figure></p>
<p>##深入<br>本文的写作过程大量参考了以下文章，大家可以仔细阅读下面文章获得更深的体会。</p>
<ul>
<li><a href="//modernweb.com/2013/12/23/45-useful-javascript-tips-tricks-and-best-practices/">45 Useful JavaScript Tips, Tricks and Best Practices</a></li>
<li><a href="//javascriptissexy.com/12-simple-yet-powerful-javascript-tips/">12 Simple (Yet Powerful) JavaScript Tips</a></li>
<li><a href="//www.joshwright.com/tips/13-javascript-tips-and-tricks">13 JavaScript Tips &amp; Tricks</a></li>
<li><a href="//viralpatel.net/blogs/javascript-tips-tricks/">21 JavaScript Tips And Tricks For JavaScript Developers</a></li>
<li><a href="//css-tricks.com/snippets/javascript/">CSS-Tricks Javascript Snippets</a> </li>
<li><a href="//snipplr.com/all/language/javascript">JavaScript Snippets</a></li>
<li><a href="//www.snip2code.com/Explore/All?Language=javascript">JavaScript Snippets</a></li>
<li><a href="//colintoh.com/blog/5-array-methods-that-you-should-use-today">5 Array Methods That You Should Be Using Now
</a></li>
<li><a href="//js-tricks.com/">JS-Tricks</a></li>
<li><a href="http://www.slideshare.net/ankit0rastogi/ten-useful-javascript-tips-best-practices" target="_blank" rel="external">ten-useful-javascript-tips-best-practices</a></li>
<li><a href="http://moduscreate.com/javascript-performance-tips-tricks/" target="_blank" rel="external">javascript-performance-tips-tricks</a></li>
<li><a href="http://www.htmlxprs.com/post/14/superpower-your-javascript-with-10-quick-tips" target="_blank" rel="external">Superpower your JavaScript with 10 quick tips - For Beginners</a></li>
</ul>
<p>##声明<br><strong>前端开发whqet，关注前端开发，分享相关资源。csdn专家博客，王海庆希望能对您有所帮助，限于作者水平有限，出错难免，欢迎拍砖！</strong><br><strong>欢迎任何形式的转载，烦请注明装载，保留本段文字。</strong><br><em>本文原文链接，<a href="http://blog.csdn.net/whqet/article/details/43865127" target="_blank" rel="external">http://blog.csdn.net/whqet/article/details/43865127</a></em><br><em>欢迎大家访问独立博客<a href="http://whqet.github.io" target="_blank" rel="external">http://whqet.github.io</a></em></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/15/detail-of-sass-map/" itemprop="url">
                  Sass map详解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-02-15T13:24:30+08:00" content="2015年02月15日">
              2015年02月15日
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分類於
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/css3/" itemprop="url" rel="index">
                    <span itemprop="name">css3</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>作为一个CSS预处理器，<a href="http://sass-lang.com/" target="_blank" rel="external">Sass</a>正受到越来越多的青睐，诸如Github、Codepen、CSS-Tricks、SitePoint、w3cplus等网站采用Sass组织、管理CSS文件，Sass正在逐渐成为事实上的CSS预处理器<strong>行业标准</strong>。接下来几篇文章，我们来研读下Sass中的关键功能，今天来看map，大家不妨一坐，精彩内容马上呈现。<br><img src="http://img.blog.csdn.net/20150215130015635" alt="这里写图片描述"></p>
<h2 id="map简介">map简介</h2><p>在Sass中，<a href="http://sass-lang.com/documentation/file.SASS_REFERENCE.html#maps" target="_blank" rel="external">maps</a>代表一种<strong>数据类型</strong>，可以包含若干键值对的对象类型，使用()包围一个map，里面的键值对用逗号隔开，键和值可以是任何的Sass数据类型，尽管一个值可以用在多个键上，但是通过一个键我们必须只能找到一个值。map不能直接在css中使用，如果你把一个map赋值给一个元素将会报错。下面的代码示例一个经典的map。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$map</span><span class="value">: (</span><br><span class="line">  key1: value1,</span><br><span class="line">  key2: value2,</span><br><span class="line">  key3: value3</span><br><span class="line">);</span></span><br></pre></td></tr></table></figure></p>
<h2 id="map使用">map使用</h2><p>我们可以使用一系列的函数<strong>操作</strong>map，可以使用循环指令<strong>遍历</strong>map。<br>map相关的函数有map-keys()、map-values()、map-get()、map-has-key()、map-merge()、map-remove()、keywords()等，函数功能如下表所示。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>map-keys(map)</td>
<td>返回map里面所有的key(list)</td>
<td>map-keys((“foo”: 1, “bar”: 2)) =&gt; “foo”, “bar”</td>
</tr>
<tr>
<td>map-values(map)</td>
<td>返回map里面所有的value(list)</td>
<td>map-values((“foo”: 1, “bar”: 2)) =&gt; 1, 2</td>
</tr>
<tr>
<td>map-get(map,key)</td>
<td>返回map里面指定可以的value</td>
<td>map-get((“foo”: 1, “bar”: 2), “foo”) =&gt; 1</td>
</tr>
<tr>
<td>map-has-key(map,key)</td>
<td>返回map里面是否含有指定的key</td>
<td>map-has-key((“foo”: 1, “bar”: 2), “foo”) =&gt; true</td>
</tr>
<tr>
<td>map-merge(map1,map2)</td>
<td>合并map(map)</td>
<td>map-merge((“foo”: 1), (“bar”: 2)) =&gt; (“foo”: 1, “bar”: 2)</td>
</tr>
<tr>
<td>map-remove(map,keys)</td>
<td>删除指定map中的指定key(map)</td>
<td>map-remove((“foo”: 1, “bar”: 2), “bar”) =&gt; (“foo”: 1)</td>
</tr>
<tr>
<td>keywords(args)</td>
<td>返回一个函数参数组成的map(map)</td>
<td>@mixin foo(args…){@debug keywords($args); //=&gt; (arg1: val, arg2: val)}</td>
</tr>
</tbody>
</table>
<p>我们可以使用<a href="http://sass-lang.com/documentation/file.SASS_REFERENCE.html#each-directive" target="_blank" rel="external">@each</a>指令遍历map，如下所示。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$map</span><span class="value">: (</span><br><span class="line">  key1: value1,</span><br><span class="line">  key2: value2,</span><br><span class="line">  key3: value3</span><br><span class="line">);</span></span><br><span class="line"><span class="comment">/* 遍历map */</span></span><br><span class="line"><span class="at_rule">@<span class="keyword">each</span> <span class="variable">$key</span>, <span class="variable">$value</span><span class="preprocessor"> in</span> <span class="variable">$map</span> &#123;</span></span><br><span class="line">  <span class="class">.element--</span>#&#123;<span class="variable">$key</span>&#125; &#123;</span><br><span class="line">    <span class="attribute">background</span><span class="value">: <span class="variable">$value</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="map案例">map案例</h2><p>map在Sass中应用广泛，有很多场合可以用到map，下面列举一二。</p>
<p>###指定多值<br>css里有很多属性可以指定多个值，例如transition、box-shadow等，这个时候我们可以使用map来定义不同的值，然后可以统一使用。例如<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 使用map定义不同的值 */</span></span><br><span class="line"><span class="variable">$card_transition_map</span><span class="value">: (</span><br><span class="line">  trans1: <span class="number">200ms</span> transform ease-in-out,</span><br><span class="line">  trans2: <span class="number">400ms</span> background ease-in,</span><br><span class="line">  trans3: <span class="number">600ms</span> color linear</span><br><span class="line">);</span></span><br><span class="line"><span class="comment">/* map-values统一使用 */</span></span><br><span class="line"><span class="class">.card</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span><span class="value">: <span class="function">map-values</span>(<span class="variable">$card_transition_map</span>);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译之后输出<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.card</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">transition</span>:<span class="value"> <span class="number">200ms</span> transform ease-in-out, </span><br><span class="line">                <span class="number">400ms</span> background ease-in, </span><br><span class="line">                <span class="number">600ms</span> color linear</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="压缩多值">压缩多值</h3><p>我们可以使用zip函数来压缩多值，例如操作animate时：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$animation_config: (&#10;  name: none,&#10;  duration: 0s,&#10;  timing: ease,&#10;  delay: 0s,&#10;  iteration: 1, // infinite&#10;  direction: normal, // reverse, alternate, alternate-reverse&#10;  fill-mode: none, // forwards, backwards, both&#10;  play-state: running&#10;);&#10;&#10;@function sh-setup($config) &#123;&#10;  @return zip(map-values($config)...);&#10;&#125;&#10; &#10;.object &#123;&#10;  animation: sh-setup($animation_config);&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译之后输出结果为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.object &#123;&#10;  animation: none 0s ease 0s 1 normal none running;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="指定皮肤">指定皮肤</h3><p>我们可以使用一个循环来遍历不同的map，达到指定不同皮肤的功效。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$background_color</span><span class="value">: (</span><br><span class="line">	jeremy: <span class="hexcolor">#0989cb</span>,</span><br><span class="line">	beth: <span class="hexcolor">#8666ae</span>,</span><br><span class="line">	matt: <span class="hexcolor">#02bba7</span>,</span><br><span class="line">	ryan: <span class="hexcolor">#ff8178</span></span><br><span class="line">);</span></span><br><span class="line"><span class="variable">$font</span><span class="value">: (</span><br><span class="line">	jeremy: Helvetica,</span><br><span class="line">	beth: Verdana,</span><br><span class="line">	matt: Times,</span><br><span class="line">	ryan: Arial</span><br><span class="line">);</span></span><br><span class="line"><span class="at_rule">@<span class="keyword">each</span> <span class="variable">$key</span>, <span class="variable">$value</span><span class="preprocessor"> in</span> <span class="variable">$background_color</span> &#123;</span></span><br><span class="line">	.#&#123;<span class="variable">$key</span>&#125; &#123;</span><br><span class="line">		<span class="attribute">background</span><span class="value">: <span class="variable">$value</span>;</span></span><br><span class="line">		<span class="attribute">font-family</span><span class="value">: <span class="function">map-get</span>(<span class="variable">$font</span>, <span class="variable">$key</span>);</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译之后输出<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.jeremy</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#0989cb</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">font-family</span>:<span class="value"> Helvetica</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.beth</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#8666ae</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">font-family</span>:<span class="value"> Verdana</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.matt</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#02bba7</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">font-family</span>:<span class="value"> Times</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.ryan</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#ff8178</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">font-family</span>:<span class="value"> Arial</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="配置文件">配置文件</h3><p>使用Sass的一个最大的优点在于，我们可以对css文件进行统一的组织与管理，使用配置文件是达到目的的主要手段，例如我们把网页中所有层的z-index放配置文件里，在需要的地方进行调用。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*定义配置文件*/</span></span><br><span class="line"><span class="variable">$z-index</span><span class="value">: (</span><br><span class="line">  modal              : <span class="number">200</span>,</span><br><span class="line">  navigation         : <span class="number">100</span>,</span><br><span class="line">  footer             : <span class="number">90</span>,</span><br><span class="line">  triangle           : <span class="number">60</span>,</span><br><span class="line">  navigation-rainbow : <span class="number">50</span>,</span><br><span class="line">  share-type         : <span class="number">41</span>,</span><br><span class="line">  share              : <span class="number">40</span>,</span><br><span class="line">);</span></span><br><span class="line"><span class="comment">/*在合适的时机调用*/</span></span><br><span class="line"><span class="class">.navigation</span> &#123;</span><br><span class="line">  <span class="attribute">z-index</span><span class="value">: <span class="function">map-get</span>(<span class="variable">$z-index</span>, navigation);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译之后输出<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.navigation &#123;&#10;  z-index: 100;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面案例调用的时候还用到map-get函数，还是比较麻烦，我们继续简化。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$z-index</span><span class="value">: (</span><br><span class="line">  modal              : <span class="number">200</span>,</span><br><span class="line">  navigation         : <span class="number">100</span>,</span><br><span class="line">  footer             : <span class="number">90</span>,</span><br><span class="line">  triangle           : <span class="number">60</span>,</span><br><span class="line">  navigation-rainbow : <span class="number">50</span>,</span><br><span class="line">  share-type         : <span class="number">41</span>,</span><br><span class="line">  share              : <span class="number">40</span>,</span><br><span class="line">);</span></span><br><span class="line"><span class="at_rule">@function<span class="preprocessor"> z-index</span>(<span class="variable">$key</span>) &#123;</span></span><br><span class="line">  <span class="at_rule">@return<span class="preprocessor"> map-get</span>(<span class="variable">$z-index</span>, <span class="variable">$key</span>);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="at_rule">@<span class="keyword">mixin</span><span class="preprocessor"> z-index</span>(<span class="variable">$key</span>) &#123;</span></span><br><span class="line">  <span class="attribute">z-index</span><span class="value">: <span class="function">z-index</span>(<span class="variable">$key</span>);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*调用时*/</span></span><br><span class="line"><span class="class">.navigation</span> &#123;</span><br><span class="line">  <span class="at_rule">@<span class="keyword">include</span><span class="preprocessor"> z-index</span>(navigation);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="断点管理">断点管理</h3><p>下面代码演示如何在项目管理中如何进行断点管理。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// _config.scss&#10;$breakpoints: (&#10;  small: 767px,&#10;  medium: 992px,&#10;  large: 1200px&#10;);&#10; &#10;// _mixins.scss&#10;@mixin respond-to($breakpoint) &#123; &#10;  @if map-has-key($breakpoints, $breakpoint) &#123;&#10;    @media (min-width: #&#123;map-get($breakpoints, $breakpoint)&#125;) &#123;&#10;      @content;&#10;    &#125;&#10;  &#125;&#10; &#10;  @else &#123;&#10;    @warn &#34;Unfortunately, no value could be retrieved from `#&#123;$breakpoint&#125;`. &#34;&#10;        + &#34;Please make sure it is defined in `$breakpoints` map.&#34;;&#10;  &#125;&#10;&#125;&#10; &#10;// _component.scss&#10;.element &#123;&#10;  color: hotpink;&#10; &#10;  @include respond-to(small) &#123;&#10;    color: tomato;&#10;  &#125;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译之后输出结果为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.element &#123;&#10;  color: hotpink;&#10;&#125;&#10;&#10;@media (min-width: 767px) &#123;&#10;  .element &#123;&#10;    color: tomato;&#10;  &#125;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="处理前缀">处理前缀</h3><p>下面我们来看map在处理前缀mixin中的应用，两个参数类型分别为map和list，使用需要注意。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/*&#23450;&#20041;*/&#10;/// Mixin to prefix several properties at once&#10;/// @author Hugo Giraudel&#10;/// @param &#123;Map&#125; $declarations - Declarations to prefix&#10;/// @param &#123;List&#125; $prefixes (()) - List of prefixes to print&#10;@mixin prefix($declarations, $prefixes: ()) &#123;&#10;  @each $property, $value in $declarations &#123;&#10;    @each $prefix in $prefixes &#123;&#10;      #&#123;&#39;-&#39; + $prefix + &#39;-&#39; + $property&#125;: $value;&#10;    &#125;&#10;&#10;    // Output standard non-prefixed declaration&#10;    #&#123;$property&#125;: $value;&#10;  &#125;&#10;&#125;&#10;/*&#20351;&#29992;*/&#10;.selector &#123;&#10;  @include prefix((&#10;    column-count: 3,&#10;    column-gap: 1.5em,&#10;    column-rule: 2px solid hotpink&#10;  ), webkit moz);&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译之后输出为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.selector &#123;&#10;  -webkit-column-count: 3;&#10;  -moz-column-count: 3;&#10;  column-count: 3;&#10;  -webkit-column-gap: 1.5em;&#10;  -moz-column-gap: 1.5em;&#10;  column-gap: 1.5em;&#10;  -webkit-column-rule: 2px solid hotpink;&#10;  -moz-column-rule: 2px solid hotpink;&#10;  column-rule: 2px solid hotpink;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="反向函数">反向函数</h3><p>Hugo Giraudel大牛定义的反向函数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/*&#23450;&#20041;*/&#10;/// Returns the opposite direction of each direction in a list&#10;/// @author Hugo Giraudel&#10;/// @param &#123;List&#125; $directions - List of initial directions&#10;/// @return &#123;List&#125; - List of opposite directions&#10;@function opposite-direction($directions) &#123;&#10;  $opposite-directions: ();&#10;  $direction-map: (&#10;    &#39;top&#39;:    &#39;bottom&#39;,&#10;    &#39;right&#39;:  &#39;left&#39;,&#10;    &#39;bottom&#39;: &#39;top&#39;,&#10;    &#39;left&#39;:   &#39;right&#39;,&#10;    &#39;center&#39;: &#39;center&#39;,&#10;    &#39;ltr&#39;:    &#39;rtl&#39;,&#10;    &#39;rtl&#39;:    &#39;ltr&#39;&#10;  );&#10; &#10;  @each $direction in $directions &#123;&#10;    $direction: to-lower-case($direction);&#10;    &#10;    @if map-has-key($direction-map, $direction) &#123; &#10;      $opposite-directions: append($opposite-directions, unquote(map-get($direction-map, $direction)));&#10;    &#125; @else &#123;&#10;      @warn &#34;No opposite direction can be found for `#&#123;$direction&#125;`. Direction omitted.&#34;;&#10;    &#125;&#10;  &#125;&#10; &#10;  @return $opposite-directions;&#10;&#125;&#10;/*&#20351;&#29992;*/&#10;.selector &#123;&#10;  background-position: opposite-direction(top right);&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译之后输出结果为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.selector &#123;&#10;  background-position: bottom left;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="深入阅读">深入阅读</h2><p>本文的写作过程大量参考了以下文章，大家可以仔细阅读下面文章获得更深的体会。</p>
<ul>
<li><a href="http://sass-lang.com/documentation/file.SASS_REFERENCE.html#maps" target="_blank" rel="external">官方文档</a></li>
<li><a href="http://sass-lang.com/documentation/Sass/Script/Functions.html#map-functions" target="_blank" rel="external">mapfunction</a></li>
<li><a href="http://blog.grayghostvisuals.com/sass/real-sass-real-maps/" target="_blank" rel="external">Real Sass, Real Maps</a></li>
<li><a href="http://www.sitepoint.com/making-use-sass-zip-function/" target="_blank" rel="external">Making Use of Sass’ Zip() Function</a></li>
<li><a href="http://viget.com/extend/sass-maps-are-awesome" target="_blank" rel="external">Sass Maps Are Awesome!</a></li>
<li><a href="http://www.sitepoint.com/using-sass-maps/" target="_blank" rel="external">Using Sass Maps</a></li>
<li><a href="http://www.sitepoint.com/sass-mixins-kickstart-project/" target="_blank" rel="external">Sass Mixins to Kickstart Your Project</a></li>
</ul>
<h2 id="声明">声明</h2><p><em>前端开发whqet，关注前端开发，分享相关资源。csdn专家博客，王海庆希望能对您有所帮助。</em><br><em>本文原文链接，<a href="http://whqet.github.io/2015/02/15/Sass%20map%E8%AF%A6%E8%A7%A3/" target="_blank" rel="external">http://whqet.github.io/2015/02/15/Sass%20map%E8%AF%A6%E8%A7%A3/</a></em><br><em>欢迎大家访问CSDN博客，<a href="http://blog.csdn.net/whqet/" target="_blank" rel="external">http://blog.csdn.net/whqet/</a> </em></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/12/css-currentColor/" itemprop="url">
                  CSS currentColor研究
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-02-12T17:11:58+08:00" content="2015年02月12日">
              2015年02月12日
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分類於
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/css3/" itemprop="url" rel="index">
                    <span itemprop="name">css3</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>刚刚写了篇《<a href="http://blog.csdn.net/whqet/article/details/43758285" target="_blank" rel="external">CSS变量试玩儿</a>》，我们了解到可以使用原生的CSS来定义使用变量，简化CSS书写、优化代码的组织与维护，但可怕的兼容性问题，又让我们望而却步、一笑了之。<br>但是有这么一个CSS变量currentColor，兼容良好、功能强大，接下来我们来一探究竟。</p>
<p>##简介<br>CSS里已经有一个长期存在的兼容性良好的变量currentColor，表示对当前元素颜色的引用，可以应用在当前元素的其他属性和后代元素上。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">h1</span> <span class="rules">&#123; </span><br><span class="line">	<span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="function">hsl</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">44%</span>)</span></span>; </span><br><span class="line">	<span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">1rem</span></span></span>; </span><br><span class="line">	<span class="comment">/* 这里调用默认颜色 */</span></span><br><span class="line">	<span class="rule"><span class="attribute">border-bottom</span>:<span class="value"> <span class="number">4px</span> solid</span></span>; </span><br><span class="line">&#125;</span></span><br><span class="line"><span class="comment">/* 使用currentColor,用在其他属性上 */</span></span><br><span class="line"><span class="tag">h1</span> <span class="rules">&#123; </span><br><span class="line">	<span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="function">hsl</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">44%</span>)</span></span>; </span><br><span class="line">	<span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">1rem</span></span></span>; </span><br><span class="line">	<span class="comment">/* 这里调用默认颜色 */</span></span><br><span class="line">	<span class="rule"><span class="attribute">border-bottom</span>:<span class="value"> currentColor <span class="number">4px</span> solid</span></span>; </span><br><span class="line">&#125;</span></span><br><span class="line"><span class="comment">/* 使用currentColor,用在后代元素上 */</span></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="rules">&#123; </span><br><span class="line">  <span class="rule"><span class="attribute">text-decoration</span>:<span class="value"> none</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">font-weight</span>:<span class="value">bold</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="comment">/*设置不同状态颜色*/</span></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span>           <span class="rules">&#123; <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#900</span></span></span>; &#125;</span></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:hover</span>,</span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:focus</span>     <span class="rules">&#123; <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#990</span></span></span>; &#125;</span></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:active</span>    <span class="rules">&#123; <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#999</span></span></span>; &#125;</span></span><br><span class="line"><span class="comment">/*设置箭头*/</span></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:after</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">0.4em</span> solid transparent</span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">border-right</span>:<span class="value"> none</span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">''</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value">relative</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value"><span class="number">1px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">left</span>:<span class="value"><span class="number">2px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="comment">/*设置箭头继承父对象颜色*/</span></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">::after</span>,</span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:hover</span><span class="pseudo">::after</span>,</span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:focus</span><span class="pseudo">::after</span>,</span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:active</span><span class="pseudo">::after</span></span><br><span class="line"><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border-left-color</span>:<span class="value"> currentColor</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>我们可以发现，使用currentColor能够大大简化代码书写，优化代码的组织与维护。</p>
<p>##实例<br>为了演示currentColor的应用，我们造了一个案例，参见codepen，大家可以-<a href="http://codepen.io/whqet/pen/LEeoYV?editors=110" target="_blank" rel="external">在线编辑</a>-，-<a href="http://codepen.io/whqet/share/zip/LEeoYV/" target="_blank" rel="external">下载收藏</a>-。我们在案例里尝试了currentColor和渐变的结合，和动画的结合，和伪对象元素的结合。<br><img src="http://img.blog.csdn.net/20150212163437085" alt="案例演示"><br>html文件放上来，顺便弄点广告哈。<br>html文件<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">h2</span> <span class="attribute">class</span>=<span class="value">"icon"</span>&gt;</span>Let's go to whqet's blog<span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span>前端开发whqet，<span class="tag">&lt;<span class="title">a</span> <span class="attribute">class</span>=<span class="value">"blog"</span> <span class="attribute">href</span>=<span class="value">"http://blog.csdn.net/whqet/"</span>&gt;</span>王海庆的技术博客<span class="tag">&lt;/<span class="title">a</span>&gt;</span>，关注前端开发，分享相关资源，希望可以对您有所帮助。csdn专家博客http://blog.csdn.net/whqet和个人独立博客http://whqet.github.io同步更新，希望可以得到您的支持与肯定，您的支持是我最大的动力！王海庆，浙江邮电职业技术学院软件技术青椒一枚，其貌不扬、其名不翔，关心技术、热爱生活，我爱<span class="tag">&lt;<span class="title">a</span> <span class="attribute">class</span>=<span class="value">"link"</span> <span class="attribute">href</span>=<span class="value">"#"</span>&gt;</span>怒放的生命<span class="tag">&lt;/<span class="title">a</span>&gt;</span>。<span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>然后在CSS中，我们使用-prefix free不再用考虑复杂的浏览器厂商前缀。<br>这里使用本博文章《<a href="http://blog.csdn.net/whqet/article/details/21407523" target="_blank" rel="external">苹果风格的下划线</a>》所述效果，利用渐变划线，然后利用text-shadow隔离线条，在渐变里面使用了currentColor.<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*使用googlefont*/</span></span><br><span class="line"><span class="at_rule">@<span class="keyword">import</span> <span class="function">url</span>(//fonts.googleapis.com/css?family=Cedarville+Cursive)</span>;</span><br><span class="line"><span class="comment">/*使用渐变划线，利用text-shadow隔离线条*/</span></span><br><span class="line"><span class="tag">h2</span><span class="class">.icon</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">margin</span>:<span class="value"><span class="number">10px</span> <span class="number">0</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">font-size</span>:<span class="value"><span class="number">3em</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value">auto</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">font-family</span>:<span class="value">Cedarville Cursive</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">text-shadow</span>:<span class="value"> <span class="number">2px</span> <span class="number">0</span> <span class="number">0</span> <span class="hexcolor">#fff</span>, -<span class="number">2px</span> <span class="number">0</span> <span class="number">0</span> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#000</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background-image</span>:<span class="value"> <span class="function">linear-gradient</span>( to right, currentColor <span class="number">0%</span>, <span class="hexcolor">#fff</span> <span class="number">120%</span> )</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background-repeat</span>:<span class="value"> repeat-x</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background-position</span>:<span class="value"> <span class="number">0</span> <span class="number">75%</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background-size</span>:<span class="value"> <span class="number">100%</span> <span class="number">3px</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>然后，我们探索将currentColor应用到:after元素中去，实现链接装饰元素的颜色与链接元素的绑定。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">p</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">text-indent</span>:<span class="value"> <span class="number">2em</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">line-height</span>:<span class="value"> <span class="number">1.5em</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span>,<span class="tag">a</span><span class="class">.link</span><span class="rules">&#123; </span><br><span class="line">  <span class="rule"><span class="attribute">text-decoration</span>:<span class="value"> none</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">font-weight</span>:<span class="value">bold</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">margin-right</span>:<span class="value"><span class="number">4px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="comment">/*应用到后代伪类元素*/</span></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span>           <span class="rules">&#123; <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#900</span></span></span>; &#125;</span></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:hover</span>,</span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:focus</span>     <span class="rules">&#123; <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#990</span></span></span>; &#125;</span></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:active</span>    <span class="rules">&#123; <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#999</span></span></span>; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">::after</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">0.4em</span> solid transparent</span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">border-right</span>:<span class="value"> none</span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">''</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value">absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">right</span>:<span class="value">-<span class="number">6px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value"><span class="number">2px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">::after</span>,</span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:hover</span><span class="pseudo">::after</span>,</span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:focus</span><span class="pseudo">::after</span>,</span><br><span class="line"><span class="tag">a</span><span class="class">.blog</span><span class="pseudo">:active</span><span class="pseudo">::after</span></span><br><span class="line"><span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border-left-color</span>:<span class="value"> currentColor</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>应用到动画元素上的尝试。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 结合动画应用 */</span></span><br><span class="line"><span class="tag">a</span><span class="class">.link</span><span class="rules">&#123; </span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#900</span></span></span>; </span><br><span class="line">  <span class="rule"><span class="attribute">animation</span>:<span class="value">go <span class="number">2s</span> infinite</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="tag">a</span><span class="class">.link</span><span class="pseudo">::before</span>,</span><br><span class="line"><span class="tag">a</span><span class="class">.link</span><span class="pseudo">::after</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">''</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">100%</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">2px</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">background-color</span>:<span class="value"> currentColor</span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">position</span>:<span class="value">absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">left</span>:<span class="value"><span class="number">0</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="tag">a</span><span class="class">.link</span><span class="pseudo">::before</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">top</span>:<span class="value">-<span class="number">4px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="tag">a</span><span class="class">.link</span><span class="pseudo">::after</span><span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">bottom</span>:<span class="value">-<span class="number">4px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="at_rule">@<span class="keyword">keyframes</span> go</span>&#123;</span><br><span class="line">  0% <span class="rules">&#123;<span class="rule"><span class="attribute">color</span>:<span class="value"><span class="hexcolor">#900</span></span></span></span>&#125;</span><br><span class="line">  33%<span class="rules">&#123;<span class="rule"><span class="attribute">color</span>:<span class="value"><span class="hexcolor">#090</span></span></span></span>&#125;</span><br><span class="line">  66%<span class="rules">&#123;<span class="rule"><span class="attribute">color</span>:<span class="value"><span class="hexcolor">#009</span></span></span></span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>##深入<br>本文的写作过程大量参考了以下文章，大家可以仔细阅读下面文章获得更深的体会。</p>
<ul>
<li><a href="http://css-tricks.com/currentcolor/" target="_blank" rel="external">CSS-Tricks article</a></li>
<li><a href="http://www.zhangxinxu.com/wordpress/2014/10/currentcolor-css3-powerful-css-keyword/" target="_blank" rel="external">张鑫旭的妙文</a></li>
<li><a href="http://www.w3.org/TR/css3-color/#currentColor-def" target="_blank" rel="external">W3C Ref</a></li>
<li><a href="http://osvaldas.info/keeping-css-short-with-currentcolor" target="_blank" rel="external">Keeping CSS short with currentColor</a></li>
<li><a href="http://red-team-design.com/form-controls-currentcolor-pseudo-elements/" target="_blank" rel="external">form-controls-currentcolor-pseudo-elements</a> </li>
<li><a href="http://www.cnblogs.com/Wayou/p/css-currentColor.html" target="_blank" rel="external">刘哇勇的文章</a></li>
</ul>
<p>##致谢<br><em>前端开发whqet，关注前端开发，分享相关资源。csdn专家博客，王海庆希望能对您有所帮助。</em><br><em>本文原文链接，<a href="http://whqet.github.io/2015/02/12/CSS%20currentColor%E7%A0%94%E7%A9%B6/" target="_blank" rel="external">http://whqet.github.io/2015/02/12/CSS%20currentColor%E7%A0%94%E7%A9%B6/</a> </em><br><em>欢迎大家访问独立博客<a href="http://whqet.github.io" target="_blank" rel="external">http://whqet.github.io</a> </em></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="FedFun" itemprop="image"/>
          <p class="site-author-name" itemprop="name">FedFun</p>
        </div>
        <p class="site-description motion-element" itemprop="description">whqet’s blog | html5 | css3 | javascript | jquery | node</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">17</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">2</span>
              <span class="site-state-item-name">分類</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">25</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">FedFun</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    
    

  


  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
